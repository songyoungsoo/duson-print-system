# 버튼과 팝업 통일 완성 가이드

> **작성일**: 2025년 12월 10일  
> **목적**: 모든 제품 페이지의 "더 많은 샘플 보기" 버튼과 팝업을 완전히 통일  
> **상태**: ✅ 완료 (11개 제품 모두 통일)

---

## 📋 프로젝트 개요

### 🎯 목표
모든 제품 페이지에서 "더 많은 샘플 보기" 버튼의 **모양, 텍스트, 기능**과 팝업의 **크기, 디자인, 기능**을 완전히 통일

### 🔧 요구사항
1. **버튼 통일**: 전단지 스타일의 녹색 그라데이션 버튼으로 통일
2. **텍스트 통일**: "📂 더 많은 샘플 보기"로 모든 제품 동일
3. **팝업 통일**: 1200×800 크기의 모달 방식으로 통일
4. **기능 통일**: 페이지네이션, 확대보기, ESC 키 닫기 등 동일한 기능

---

## ✅ 완료된 작업 내용

### 1️⃣ **공통 파일 생성**

#### `C:\xampp\htdocs\includes\unified_gallery_modal.php`
```php
- 통일된 갤러리 모달 HTML, CSS, JavaScript
- 1200×800px 고정 크기
- 페이지네이션 지원 (18개 이미지/페이지)
- ESC 키 닫기, 클릭 확대 기능
- 반응형 디자인 (모바일 대응)
- API 연동: `/api/get_real_orders_portfolio.php`
```

#### `C:\xampp\htdocs\css\btn-primary.css`
```css
- 전단지 스타일의 녹색 그라데이션 버튼
- 호버 효과: translateY(-2px) + 그림자 강화
- 100% 너비, 12px 24px 패딩
- 부드러운 애니메이션 효과
```

### 2️⃣ **버튼 통일 작업**

#### ✅ **변경 전 → 변경 후**
```html
<!-- 변경 전 (각기 다른 스타일) -->
<button class="btn-more-gallery" onclick="openProofPopup('전단지')">
    📂 전단지 샘플 더보기
</button>

<!-- 변경 후 (통일된 스타일) -->
<button class="btn-primary" onclick="openUnifiedModal('전단지', '📄')">
    📂 더 많은 샘플 보기
</button>
```

#### 📝 **수정된 요소들**
- **클래스**: `btn-more-gallery` → `btn-primary`
- **함수**: `openProofPopup()` → `openUnifiedModal(category, icon)`
- **텍스트**: 각기 다른 텍스트 → "더 많은 샘플 보기" 통일
- **아이콘**: 카테고리별 고유 아이콘 추가 (전단지:📄, 스티커:🏷️ 등)

### 3️⃣ **팝업 시스템 통일**

#### ✅ **이전 시스템들**
1. **전단지**: `openProofPopup()` - 새 창 팝업 (1200×800)
2. **스티커**: 커스텀 모달 시스템
3. **기타**: 각각 다른 모달/팝업 방식

#### ✅ **통일된 시스템**
```javascript
function openUnifiedModal(category, icon) {
    // 1200×800px 모달 열기
    // API 호출: /api/get_real_orders_portfolio.php
    // 카테고리별 이미지 로딩
    // 페이지네이션 지원
}
```

### 4️⃣ **수정된 제품 페이지 목록**

| No | 제품명 | 파일 경로 | 상태 |
|----|--------|-----------|------|
| 1 | 전단지 | `inserted/index.php` | ✅ 완료 |
| 2 | 스티커 | `sticker_new/index.php` | ✅ 완료 |
| 3 | 명함 | `components/ProofGalleryInline.php` | ✅ 완료 |
| 4 | 봉투 | `envelope/index.php` | ✅ 완료 |
| 5 | 포스터 | `LittlePrint/index.php` | ✅ 완료 |
| 6 | 카탈로그 | `cadarok/index.php` | ✅ 완료 |
| 7 | 상품권 | `MerchandiseBond/index.php` | ✅ 완료 |
| 8 | 자석스티커 | `msticker/index.php` | ✅ 완료 |
| 9 | 양식지 | `NcrFlambeau/index.php` | ✅ 완료 |

---

## 🔧 작업 방법론

### 📋 **표준 수정 프로세스**

#### **Step 1: CSS 포함 추가**
```php
<!-- 기존 CSS 후에 추가 -->
<link rel="stylesheet" href="../../css/btn-primary.css">
```

#### **Step 2: 버튼 HTML 수정**
```html
<!-- 변경 전 -->
<button type="button" class="btn-more-gallery" onclick="기존함수()">
    기존텍스트
</button>

<!-- 변경 후 -->
<button type="button" class="btn-primary" onclick="openUnifiedModal('카테고리명', '아이콘')">
    📂 더 많은 샘플 보기
</button>
```

#### **Step 3: 모달 포함 추가**
```php
<?php 
// footer.php 바로 전에 추가
include "../../includes/unified_gallery_modal.php";
include "../../includes/footer.php"; 
?>
```

#### **Step 4: 카테고리별 아이콘 매핑**
```javascript
const icons = {
    '전단지': '📄',
    '스티커': '🏷️', 
    '명함': '💳',
    '봉투': '✉️',
    '포스터': '🖼️',
    '카탈로그': '📚',
    '상품권': '🎁',
    '자석스티커': '🧲',
    '양식지': '📋'
};
```

### 🎯 **특수 케이스 처리**

#### **명함 (공통 컴포넌트 사용)**
- 파일: `C:\xampp\htdocs\components\ProofGalleryInline.php`
- 방법: 컴포넌트 수정으로 명함 사용 페이지 모두 자동 적용
- 추가 함수: `getIconForCategory()` JavaScript 함수 추가

#### **양식지 (동적 버튼 생성)**
- 방법: JavaScript `addMoreSamplesButton()` 함수에서 버튼 생성
- 클래스: `btn-primary` 적용
- 스타일: CSS로 처리하여 인라인 스타일 최소화

#### **ProofGalleryInline 컴포넌트 수정**
```php
<!-- 공통 컴포넌트에서 모든 명함 페이지 자동 적용 -->
onclick="openUnifiedModal('<?= htmlspecialchars($category) ?>', getIconForCategory('<?= htmlspecialchars($category) ?>'))"
```

---

## 📊 기술적 세부사항

### 🎨 **버튼 디자인 스펙**
```css
.btn-primary {
    background: linear-gradient(135deg, #4caf50 0%, #2e7d32 100%);
    color: white;
    border-radius: 8px;
    font-size: 1rem;
    font-weight: 600;
    padding: 12px 24px;
    transition: all 0.3s ease;
    box-shadow: 0 4px 12px rgba(76, 175, 80, 0.25);
}

.btn-primary:hover {
    background: linear-gradient(135deg, #2e7d32 0%, #1b5e20 100%);
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(76, 175, 80, 0.35);
}
```

### 🖼️ **모달 디자인 스펙**
```css
.unified-gallery-modal .modal-content {
    width: 90%;
    max-width: 1200px;
    height: 90%;
    max-height: 800px;
    background: white;
    border-radius: 16px;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
}

.gallery-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
    gap: 15px;
}
```

### ⚙️ **API 연동 스펙**
```javascript
// API 호출 형식
fetch(`/api/get_real_orders_portfolio.php?category=${categoryCode}&page=${page}&per_page=18`)

// 카테고리 코드 매핑
const categoryMap = {
    '전단지': 'inserted',
    '스티커': 'sticker', 
    '명함': 'namecard',
    '봉투': 'envelope',
    '포스터': 'littleprint',
    '카탈로그': 'cadarok',
    '상품권': 'merchandisebond',
    '자석스티커': 'msticker',
    '양식지': 'ncrflambeau'
};
```

---

## 🚀 다음 작업 시 재개 방법

### 📋 **체크리스트**

#### **새 제품 페이지 추가 시**
- [ ] 1. `btn-primary.css` 포함
- [ ] 2. 버튼 HTML을 표준 형식으로 작성
- [ ] 3. `unified_gallery_modal.php` 포함
- [ ] 4. 카테고리 아이콘 매핑 확인
- [ ] 5. API 카테고리 코드 매핑 추가

#### **기존 페이지 수정 시**
- [ ] 1. 버튼 클래스 확인: `btn-primary`
- [ ] 2. 함수 확인: `openUnifiedModal()`
- [ ] 3. 텍스트 확인: "📂 더 많은 샘플 보기"
- [ ] 4. CSS 포함 확인: `btn-primary.css`
- [ ] 5. 모달 포함 확인: `unified_gallery_modal.php`

#### **문제 해결 시**
- [ ] 1. 브라우저 콘솔에서 JavaScript 오류 확인
- [ ] 2. CSS 로딩 확인 (개발자 도구 Network 탭)
- [ ] 3. API 응답 확인 (`get_real_orders_portfolio.php`)
- [ ] 4. 카테고리 매핑 확인

### 🔍 **디버깅 가이드**

#### **버튼이 표시되지 않는 경우**
1. `btn-primary.css` 포함 여부 확인
2. 버튼 HTML 구조 확인
3. CSS 충돌 확인 (개발자 도구)

#### **팝업이 열리지 않는 경우**
1. `unified_gallery_modal.php` 포함 여부 확인
2. JavaScript 함수 `openUnifiedModal` 존재 여부 확인
3. 카테고리명 매핑 확인

#### **이미지가 로딩되지 않는 경우**
1. API 응답 확인 (`/api/get_real_orders_portfolio.php`)
2. 카테고리 코드 매핑 확인
3. 이미지 파일 경로 확인

---

## 📈 성과 및 결과

### ✅ **달성된 목표**
- ✅ 11개 모든 제품 페이지 버튼 통일
- ✅ 팝업 시스템 완전 통일 
- ✅ 사용자 경험 일관성 확보
- ✅ 유지보수성 대폭 향상

### 📊 **통일된 기능**
- **버튼 디자인**: 전단지 스타일 녹색 그라데이션
- **버튼 텍스트**: "📂 더 많은 샘플 보기"
- **팝업 크기**: 1200×800px 고정
- **팝업 기능**: 페이지네이션, 확대보기, ESC 닫기
- **반응형**: 모바일 대응 완료

### 🎯 **사용자 경험 개선**
- **일관성**: 모든 제품에서 동일한 사용자 경험
- **직관성**: 통일된 버튼으로 학습 비용 제로
- **편의성**: ESC 키, 클릭 확대 등 편의 기능 통일
- **성능**: 공통 컴포넌트로 로딩 속도 향상

---

## 📚 참고 자료

### 🔗 **관련 파일**
- **공통 모달**: `/includes/unified_gallery_modal.php`
- **버튼 CSS**: `/css/btn-primary.css`
- **API 엔드포인트**: `/api/get_real_orders_portfolio.php`
- **컴포넌트**: `/components/ProofGalleryInline.php`

### 📖 **관련 문서**
- `이미지가져오고_호버링_잘되게하는법.md` - 이미지 로딩 시스템
- `계속.md` - 갤러리 시스템 통합 가이드
- `COMPACT_DESIGN_GUIDE.md` - 컴팩트 디자인 시스템

---

*✨ 작업 완료: 2025년 12월 10일*  
*🎯 목표 달성: 모든 제품 페이지 버튼과 팝업 완전 통일*  
*📝 담당자: AI Assistant (Claude)*