# 📋 품목별 개발 가이드

## 📅 작성일: 2025년 8월 4일

## 🎯 목적
각 인쇄물 품목별 개발 시 주의사항과 특징을 정리하여 일관성 있는 개발을 지원합니다.

---

## 🗂️ 품목별 상세 가이드

### 1️⃣ 전단지 (inserted)

#### 📊 기본 정보
- **테이블명**: `mlangprintauto_inserted`
- **Ttable**: `inserted`
- **페이지 경로**: `MlangPrintAuto/inserted/`
- **테마 색상**: 파란색 계열 (#667eea)

#### 🔄 드롭다운 구조 (5단계)
```
1. 인쇄색상 (MY_type) - BigNo='0'
2. 종이종류 (TreeSelect) - TreeNo가 인쇄색상번호
3. 종이규격 (PN_type) - BigNo가 인쇄색상번호  
4. 인쇄면 (POtype) - 단면/양면
5. 수량 (MY_amount) - quantity 필드
6. 편집비용 (ordertype) - total/print
```

#### 🚨 주의사항
- **TreeSelect 필드 사용**: 종이종류 정보 저장
- **POtype 필드 사용**: 인쇄면(단면/양면) 정보 저장
- **quantityTwo 필드**: 추가 수량 정보 있음
- **복잡한 옵션 구조**: 5-6단계의 복잡한 선택 과정

#### 💡 개발 팁
- 종이종류와 종이규격이 모두 인쇄색상에 의존
- TreeSelect와 Section 모두 사용하는 유일한 품목
- 가격 계산 시 모든 필드 고려 필요

---

### 2️⃣ 포스터 (littleprint)

#### 📊 기본 정보
- **테이블명**: `mlangprintauto_littleprint`
- **Ttable**: `LittlePrint`
- **페이지 경로**: `MlangPrintAuto/littleprint/`
- **테마 색상**: 보라색 계열 (#667eea)

#### 🔄 드롭다운 구조 (6단계)
```
1. 구분 (MY_type) - BigNo='0'
2. 종이종류 (TreeSelect) - BigNo가 구분번호
3. 종이규격 (PN_type) - TreeNo가 구분번호
4. 인쇄면 (POtype) - 단면/양면
5. 수량 (MY_amount) - quantity 필드
6. 디자인편집 (ordertype) - total/print
```

#### 🚨 주의사항
- **TreeSelect와 Section 동시 사용**: 종이종류와 종이규격 분리
- **POtype 필드 필수**: 인쇄면 정보
- **수량로드 오류 주의**: 3개 파라미터 필요 (style, Section, TreeSelect)
- **AJAX 응답 형식 통일**: success_response() 사용

#### 💡 개발 팁
- 전단지와 유사하지만 구조가 더 체계적
- 수량 로드 시 3개 조건 모두 필요
- JavaScript에서 response.data 형식으로 처리

---

### 3️⃣ 양식지/NCR (ncrflambeau)

#### 📊 기본 정보
- **테이블명**: `mlangprintauto_ncrflambeau`
- **Ttable**: `NcrFlambeau`
- **페이지 경로**: `MlangPrintAuto/ncrflambeau/`
- **테마 색상**: 보라색 계열 (#667eea → 녹색으로 변경)

#### 🔄 드롭다운 구조 (5단계)
```
1. 구분 (MY_type) - BigNo='0'
2. 규격 (MY_Fsd) - BigNo가 구분번호
3. 색상 (PN_type) - TreeNo가 구분번호
4. 수량 (MY_amount) - quantity 필드
5. 편집디자인 (ordertype) - total/print
```

#### 🚨 주의사항
- **MY_Fsd 필드 사용**: 다른 품목과 다른 필드명 (Section 대신)
- **TreeSelect 사용**: 색상 정보 저장
- **POtype 없음**: 인쇄면 선택 없음
- **수량 단위**: "권" 사용 (매가 아님)

#### 💡 개발 팁
- 필드명이 다른 품목과 다름 주의
- 장바구니 추가 시 TreeSelect를 MY_Fsd로 매핑
- 견적결과 표시 시 색상 대비 확인 필요

---

### 4️⃣ 자석스티커 (msticker)

#### 📊 기본 정보
- **테이블명**: `mlangprintauto_msticker`
- **Ttable**: `msticker`
- **페이지 경로**: `MlangPrintAuto/msticker/`
- **테마 색상**: 빨간색 계열 (#e74c3c)

#### 🔄 드롭다운 구조 (4단계)
```
1. 종류 (MY_type) - BigNo='0'
2. 규격 (PN_type) - BigNo가 종류번호
3. 수량 (MY_amount) - quantity 필드
4. 편집비 (ordertype) - total/print
```

#### 🚨 주의사항
- **가장 단순한 구조**: 4단계만 사용
- **TreeSelect 없음**: 추가 옵션 필드 사용 안함
- **POtype 없음**: 인쇄면 선택 없음
- **DesignMoney 필드만 사용**: TreeSelect 필드 없음

#### 💡 개발 팁
- 가장 단순한 구조로 개발 용이
- 수량 로드 시 2개 파라미터만 필요 (style, Section)
- 장바구니 추가 시 TreeSelect를 빈 문자열로 설정

---

## 🔧 공통 개발 패턴

### 📁 필수 파일 구조
```
품목폴더/
├── index.php                    # 메인 페이지
├── get_sizes.php               # 규격/크기 옵션 AJAX (BigNo 기준)
├── get_paper_types.php         # 종이종류 옵션 AJAX (BigNo 기준) - 필요시
├── get_colors.php              # 색상 옵션 AJAX (TreeNo 기준) - 필요시
├── get_quantities.php          # 수량 옵션 AJAX
├── calculate_price_ajax.php    # 가격 계산 AJAX
└── add_to_basket.php          # 장바구니 추가 AJAX
```

### 🎨 테마 색상 가이드
```css
/* 전단지 - 파란색 */
background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);

/* 포스터 - 보라색 */
background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);

/* 양식지 - 보라색→녹색 */
background: linear-gradient(135deg, #28a745 0%, #20c997 100%);

/* 자석스티커 - 빨간색 */
background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
```

### 📊 데이터베이스 필드 매핑

| 품목 | style | Section | TreeSelect | POtype | 수량단위 |
|------|-------|---------|------------|--------|----------|
| inserted | 인쇄색상 | 종이규격 | 종이종류 | 인쇄면 | 매 |
| littleprint | 구분 | 종이규격 | 종이종류 | 인쇄면 | 매 |
| ncrflambeau | 구분 | 규격(MY_Fsd) | 색상 | 없음 | 권 |
| msticker | 종류 | 규격 | 없음 | 없음 | 매 |

---

## 🚨 품목별 주의사항 요약

### ⚠️ 전단지 (inserted)
- 가장 복잡한 구조 (5-6단계)
- TreeSelect와 Section 모두 사용
- POtype 필드 필수
- quantityTwo 필드 존재

### ⚠️ 포스터 (littleprint)
- 수량로드 시 3개 파라미터 필요
- AJAX 응답 형식 통일 중요
- TreeSelect와 Section 분리 사용

### ⚠️ 양식지 (ncrflambeau)
- MY_Fsd 필드명 주의 (Section 대신)
- 수량 단위 "권" 사용
- 견적결과 색상 대비 확인

### ⚠️ 자석스티커 (msticker)
- 가장 단순한 4단계 구조
- TreeSelect 필드 사용 안함
- 수량로드 시 2개 파라미터만 필요

---

## 🔄 개발 순서 (권장)

### 1단계: 분석
- [ ] steering 파일에서 드롭다운 구조 확인
- [ ] 기존 페이지 분석 (있는 경우)
- [ ] 데이터베이스 테이블 구조 확인

### 2단계: 설계
- [ ] 드롭다운 단계 수 결정
- [ ] 필요한 AJAX 파일 목록 작성
- [ ] 테마 색상 선택

### 3단계: 구현
- [ ] 메인 페이지 작성 (공통 템플릿 사용)
- [ ] AJAX 파일들 작성 (공통함수 활용)
- [ ] JavaScript 이벤트 리스너 추가

### 4단계: 테스트
- [ ] 각 AJAX 파일 개별 테스트
- [ ] 드롭다운 연동 테스트
- [ ] 가격 계산 테스트
- [ ] 장바구니 추가 테스트

### 5단계: 최적화
- [ ] 견적결과 표시 확인
- [ ] 색상 대비 확인
- [ ] 모바일 반응형 확인

---

## 📚 참조 문서

- **공통함수 사용가이드**: `MlangPrintAuto/공통함수_사용가이드.md`
- **수량로드오류 해결가이드**: `MlangPrintAuto/littleprint/수량로드오류_해결가이드.md`
- **NcrFlambeau 개발완료 보고서**: `MlangPrintAuto/ncrflambeau/NcrFlambeau_개발완료_보고서.md`
- **통합장바구니 개발진행상황**: `MlangPrintAuto/통합장바구니_개발진행상황.md`

---

## 💡 개발 팁

### 🔧 공통 실수 방지
1. **필드명 확인**: 품목별로 다른 필드명 사용 주의
2. **수량 단위**: 매/권 구분 확인
3. **AJAX 파라미터**: 품목별 필요 파라미터 수 다름
4. **색상 대비**: 견적결과 표시 시 가독성 확인

### 🚀 개발 속도 향상
1. **템플릿 활용**: 기존 완성된 페이지를 템플릿으로 사용
2. **공통함수 활용**: includes/functions.php 적극 활용
3. **AJAX 패턴**: 표준 AJAX 템플릿 사용
4. **테스트 자동화**: curl 명령어로 빠른 테스트

---

**최종 업데이트**: 2025년 8월 4일  
**완성 품목**: littleprint, ncrflambeau, msticker  
**다음 개발 예정**: envelope, cadarok, merchandisebond