# ðŸ“¥ ì›ê²© DB â†’ ë¡œì»¬ DB ë™ê¸°í™” ê°€ì´ë“œ

## ðŸŽ¯ ê°œìš”

ì›ê²© ì„œë²„(dsp1830.shop)ì˜ `mlangorder_printauto` í…Œì´ë¸” ë°ì´í„°ë¥¼ ë¡œì»¬ ë°ì´í„°ë² ì´ìŠ¤ë¡œ ë™ê¸°í™”í•˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ìž…ë‹ˆë‹¤.

## ðŸ“‹ ì‚¬ìš© ë°©ë²•

### ë°©ë²• 1: ë¸Œë¼ìš°ì €ì—ì„œ ì‹¤í–‰ (ê¶Œìž¥)

1. ë¡œì»¬ ì›¹ì„œë²„ ì‹¤í–‰ (XAMPP, WAMP ë“±)
2. ë¸Œë¼ìš°ì €ì—ì„œ ì ‘ì†:
   ```
   http://localhost/sync_mlangorder_from_remote.php
   ```
3. ìžë™ìœ¼ë¡œ ë™ê¸°í™” ì§„í–‰ ë° ê²°ê³¼ í‘œì‹œ

### ë°©ë²• 2: CLIì—ì„œ ì‹¤í–‰

```bash
php sync_mlangorder_from_remote.php
```

## âš™ï¸ ì„¤ì •

ìŠ¤í¬ë¦½íŠ¸ ë‚´ë¶€ì˜ ì—°ê²° ì •ë³´ë¥¼ í™•ì¸í•˜ì„¸ìš”:

### ì›ê²© ì„œë²„ (dsp1830.shop)
```php
$remote_host = 'dsp1830.shop';
$remote_user = 'dsp1830';
$remote_pass = 'ds701018';
$remote_db = 'dsp1830';
```

### ë¡œì»¬ ì„œë²„
```php
$local_host = 'localhost';
$local_user = 'dsp1830';
$local_pass = 'ds701018';  // XAMPP ê¸°ë³¸ê°’
$local_db = 'dsp1830';
```

ë¡œì»¬ DB ì„¤ì •ì´ ë‹¤ë¥´ë©´ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ìˆ˜ì •í•˜ì„¸ìš”.

## ðŸ”„ ë™ìž‘ ë°©ì‹

1. **ì›ê²© ì„œë²„ ì—°ê²°**: dsp1830.shop DBì— ì—°ê²°
2. **ë¡œì»¬ ì„œë²„ ì—°ê²°**: localhost DBì— ì—°ê²°
3. **ë°ì´í„° ì¡°íšŒ**: ì›ê²©ì˜ ëª¨ë“  `mlangorder_printauto` ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
4. **ë°±ì—… ìƒì„±**: ë¡œì»¬ í…Œì´ë¸”ì„ `mlangorder_printauto_backup_YYYYMMDD_HHMMSS`ë¡œ ë°±ì—…
5. **ë°ì´í„° ë™ê¸°í™”**:
   - ë¡œì»¬ì— ì—†ëŠ” ë°ì´í„° â†’ INSERT
   - ë¡œì»¬ì— ìžˆëŠ” ë°ì´í„° â†’ UPDATE
6. **ê²°ê³¼ í‘œì‹œ**: ì‚½ìž…/ì—…ë°ì´íŠ¸/ì˜¤ë¥˜ ê±´ìˆ˜ í‘œì‹œ

## ðŸ“Š ê²°ê³¼ ì˜ˆì‹œ

```
ðŸ“¥ ì›ê²© ì„œë²„ â†’ ë¡œì»¬ DB ë™ê¸°í™”
ì›ê²©: dsp1830.shop â†’ ë¡œì»¬: localhost
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ðŸ”Œ ì›ê²© ì„œë²„ ì—°ê²° ì¤‘...
âœ… ì›ê²© ì„œë²„ ì—°ê²° ì„±ê³µ

ðŸ”Œ ë¡œì»¬ DB ì—°ê²° ì¤‘...
âœ… ë¡œì»¬ DB ì—°ê²° ì„±ê³µ

ðŸ“Š ì›ê²© ë°ì´í„° ì¡°íšŒ ì¤‘...
âœ… ì›ê²© ë°ì´í„° ì¡°íšŒ ì™„ë£Œ: 150ê±´

ðŸ’¾ ë¡œì»¬ í…Œì´ë¸” ë°±ì—… ì¤‘...
âœ… ë°±ì—… ì™„ë£Œ: 120ê±´ â†’ mlangorder_printauto_backup_20251208_143022

ðŸ”„ ë°ì´í„° ë™ê¸°í™” ì‹œìž‘...
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ðŸ“Š ë™ê¸°í™” ì™„ë£Œ
âœ… ì‹ ê·œ ì‚½ìž…: 30ê±´
âœ… ì—…ë°ì´íŠ¸: 120ê±´
â„¹ï¸ ê±´ë„ˆëœ€: 0ê±´
âŒ ì˜¤ë¥˜: 0ê±´

âœ… ëª¨ë“  ìž‘ì—… ì™„ë£Œ
```

## âš ï¸ ì£¼ì˜ì‚¬í•­

1. **ë°±ì—… í™•ì¸**: ë™ê¸°í™” ì „ ìžë™ìœ¼ë¡œ ë°±ì—…ì´ ìƒì„±ë©ë‹ˆë‹¤
2. **ë„¤íŠ¸ì›Œí¬**: ì›ê²© ì„œë²„ì— ì ‘ê·¼ ê°€ëŠ¥í•œ ë„¤íŠ¸ì›Œí¬ í™˜ê²½ í•„ìš”
3. **ê¶Œí•œ**: ë¡œì»¬ DBì— ì“°ê¸° ê¶Œí•œ í•„ìš”
4. **ì‹œê°„**: ë°ì´í„°ê°€ ë§Žìœ¼ë©´ ì‹œê°„ì´ ê±¸ë¦´ ìˆ˜ ìžˆìŠµë‹ˆë‹¤ (íƒ€ìž„ì•„ì›ƒ 5ë¶„ ì„¤ì •)

## ðŸ”§ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### ì›ê²© ì„œë²„ ì—°ê²° ì‹¤íŒ¨
- ë„¤íŠ¸ì›Œí¬ ì—°ê²° í™•ì¸
- ë°©í™”ë²½ ì„¤ì • í™•ì¸
- DB ì ‘ì† ì •ë³´ í™•ì¸

### ë¡œì»¬ DB ì—°ê²° ì‹¤íŒ¨
- MySQL ì„œë²„ ì‹¤í–‰ í™•ì¸
- ë¡œì»¬ DB ì ‘ì† ì •ë³´ í™•ì¸
- `dsp1830` ë°ì´í„°ë² ì´ìŠ¤ ì¡´ìž¬ í™•ì¸

### í…Œì´ë¸”ì´ ì—†ìŒ
ë¡œì»¬ì— í…Œì´ë¸”ì´ ì—†ìœ¼ë©´ ë¨¼ì € ìƒì„±:
```sql
CREATE TABLE mlangorder_printauto LIKE remote_table;
```

ë˜ëŠ” ì›ê²© ì„œë²„ì—ì„œ í…Œì´ë¸” êµ¬ì¡° ë‚´ë³´ë‚´ê¸°:
```bash
mysqldump -h dsp1830.shop -u dsp1830 -p --no-data dsp1830 mlangorder_printauto > table_structure.sql
mysql -u root dsp1830 < table_structure.sql
```

## ðŸ”„ ì •ê¸° ë™ê¸°í™”

ì •ê¸°ì ìœ¼ë¡œ ë™ê¸°í™”í•˜ë ¤ë©´ cron job ë˜ëŠ” Windows ìž‘ì—… ìŠ¤ì¼€ì¤„ëŸ¬ ì‚¬ìš©:

### Linux/Mac (cron)
```bash
# ë§¤ì¼ ìƒˆë²½ 2ì‹œ ë™ê¸°í™”
0 2 * * * cd /path/to/project && php sync_mlangorder_from_remote.php
```

### Windows (ìž‘ì—… ìŠ¤ì¼€ì¤„ëŸ¬)
1. ìž‘ì—… ìŠ¤ì¼€ì¤„ëŸ¬ ì—´ê¸°
2. ìƒˆ ìž‘ì—… ë§Œë“¤ê¸°
3. íŠ¸ë¦¬ê±°: ë§¤ì¼ ìƒˆë²½ 2ì‹œ
4. ìž‘ì—…: `php.exe` ì‹¤í–‰, ì¸ìˆ˜: `sync_mlangorder_from_remote.php`

## ðŸ“ ë°±ì—… ê´€ë¦¬

ë°±ì—… í…Œì´ë¸”ì´ ê³„ì† ìŒ“ì´ë¯€ë¡œ ì£¼ê¸°ì ìœ¼ë¡œ ì •ë¦¬:

```sql
-- ë°±ì—… í…Œì´ë¸” ëª©ë¡ í™•ì¸
SHOW TABLES LIKE 'mlangorder_printauto_backup_%';

-- ì˜¤ëž˜ëœ ë°±ì—… ì‚­ì œ (ì˜ˆ: 30ì¼ ì´ìƒ)
DROP TABLE mlangorder_printauto_backup_20241108_120000;
```

---

**ìž‘ì„±ì¼**: 2025-12-08
**ë²„ì „**: 1.0
