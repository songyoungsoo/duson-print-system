<!DOCTYPE html>
<html>
<head>
    <title>수정 버튼 디버깅 스크립트</title>
    <meta charset="utf-8">
</head>
<body>
    <h2>🔍 수정 버튼 디버깅 가이드</h2>

    <h3>1단계: 브라우저 개발자 도구 (F12) → Console 탭</h3>
    <p><strong>다음 명령어들을 하나씩 입력해보세요:</strong></p>

    <div style="background: #f0f0f0; padding: 10px; margin: 10px;">
        <h4>🔸 JavaScript 함수 존재 여부 확인:</h4>
        <code>typeof openModifyPopup</code><br>
        <small>결과: "function"이면 정상, "undefined"면 함수 미정의</small>
    </div>

    <div style="background: #f0f0f0; padding: 10px; margin: 10px;">
        <h4>🔸 수동으로 함수 실행 테스트:</h4>
        <code>openModifyPopup('993', 'namecard', '', '278', '', '', '', 'CateList')</code><br>
        <small>팝업이 열리면 함수는 정상, 안 열리면 함수 내부 문제</small>
    </div>

    <div style="background: #f0f0f0; padding: 10px; margin: 10px;">
        <h4>🔸 팝업 차단기 테스트:</h4>
        <code>window.open('http://www.google.com', '_blank')</code><br>
        <small>구글이 새 창에서 열리면 팝업 허용됨, 안 열리면 팝업 차단됨</small>
    </div>

    <h3>2단계: HTML 요소 확인</h3>
    <div style="background: #ffe0e0; padding: 10px; margin: 10px;">
        <h4>🔸 버튼 요소 존재 확인:</h4>
        <code>document.querySelector("input[value*='수정']")</code><br>
        <small>결과: 버튼 요소가 반환되면 정상, null이면 버튼 없음</small>
    </div>

    <div style="background: #ffe0e0; padding: 10px; margin: 10px;">
        <h4>🔸 onClick 이벤트 확인:</h4>
        <code>document.querySelector("input[value*='수정']").onclick</code><br>
        <small>결과: function이면 정상, null이면 이벤트 없음</small>
    </div>

    <h3>3단계: 네트워크 확인</h3>
    <div style="background: #e0f0ff; padding: 10px; margin: 10px;">
        <h4>🔸 CateAdmin.php 접근 테스트:</h4>
        직접 URL 입력: <br>
        <code>http://localhost/admin/mlangprintauto/CateAdmin.php?mode=form&code=modify&no=993&Ttable=namecard&TreeSelect=1</code><br>
        <small>페이지가 열리면 서버 정상, 404/500 오류면 서버 문제</small>
    </div>

    <h3>4단계: JavaScript 오류 로그</h3>
    <p><strong>Console에서 빨간색 오류 메시지를 찾아보세요:</strong></p>
    <ul>
        <li>"openModifyPopup is not defined" → 함수 정의 문제</li>
        <li>"Popup blocked" → 팝업 차단기 문제</li>
        <li>"SyntaxError" → JavaScript 문법 오류</li>
        <li>"TypeError" → 변수/객체 오류</li>
    </ul>

    <h3>5단계: 임시 테스트 버튼</h3>
    <button onclick="alert('클릭됨!')">기본 클릭 테스트</button>
    <button onclick="window.open('http://www.google.com', '_blank')">팝업 테스트</button>

    <script>
    // 디버깅용 함수 정의
    function debugModifyButton() {
        console.log("=== 수정 버튼 디버깅 ===");
        console.log("1. openModifyPopup 함수:", typeof openModifyPopup);
        console.log("2. 수정 버튼 요소:", document.querySelector("input[value*='수정']"));
        console.log("3. 팝업 테스트:", window.open('about:blank', 'test', 'width=300,height=200'));
    }

    // 자동 실행
    window.onload = function() {
        console.log("🔍 디버깅 페이지 로드됨");
        console.log("debugModifyButton() 함수를 실행하여 진단하세요");
    };
    </script>
</body>
</html>