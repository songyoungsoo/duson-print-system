# 두손기획인쇄 견적 시스템 프로세스 비교

## 시스템 개요

| 구분 | 대시보드 견적 관리 | 관리자 견적 시스템 |
|------|-------------------|-------------------|
| URL | `/dashboard/quotes/` | `/admin/mlangprintauto/quote/` |
| UI 스타일 | 현대식 카드형 | 엑셀 스타일 테이블 |
| DB 테이블 | `admin_quotes` | `admin_quotes` |
| 인증 | 관리자 인증 | 전용 로그인 |

---

## 프로세스 흐름도

### 전체 공통 프로세스

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              견적 프로세스                                  │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌──────────┐    ┌──────────┐    ┌──────────┐    ┌──────────┐           │
│  │  견적    │ →  │  견적    │ →  │  고객    │ →  │  주문    │           │
│  │  작성    │    │  발송    │    │  응답    │    │  전환    │           │
│  └──────────┘    └──────────┘    └──────────┘    └──────────┘           │
│       ↓              ↓              ↓              ↓                      │
│   [draft]       [sent]      [viewed/accepted]  [converted]             │
│   임시저장       발송완료      열람/수락        주문전환               │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 시스템별 상세 프로세스

### 시스템 1: 대시보드 견적 관리 (`/dashboard/quotes/`)

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                         대시보드 견적 관리 시스템                           │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  1. 진입점                                                                  │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  https://dsp114.co.kr/dashboard/quotes/                              │   │
│  │  - 관리자 인증 필요                                                   │   │
│  │  - 최신식 반응형 UI                                                   │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                ↓                                          │
│                                                                             │
│  2. 견적 목록 조회                                                            │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  📊 상단 통카드                                                        │   │
│  │  ┌──────┐ ┌──────┐ ┌──────┐ ┌──────┐ ┌──────┐ ┌──────┐             │   │
│  │  │ 전체 │ │ 임시 │ │ 발송 │ │ 열람 │ │ 수락 │ │ 전환 │ ...         │   │
│  │  └──────┘ └──────┘ └──────┘ └──────┘ └──────┘ └──────┘             │   │
│  │       (클릭 시 필터링)                                                │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                ↓                                          │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  📋 견적 목록 (카드형)                                                │   │
│  │  ┌───────────────────────────────────────────────────────────────┐  │   │
│  │  │ 견적번호 | 상태 | 날짜 | 고객 | 품목 | 금액 | [상세][수정][미리보기] │  │   │
│  │  └───────────────────────────────────────────────────────────────┘  │   │
│  │  (필터: 상태, 검색어)                                                 │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                ↓                                          │
│                                                                             │
│  3. 견적 상세/수정                                                          │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  [상세] → /admin/mlangprintauto/quote/detail.php?id=               │   │
│  │  [수정] → /admin/mlangprintauto/quote/edit.php?id=                 │   │
│  │  [미리보기] → /admin/mlangprintauto/quote/preview.php?id=          │   │
│  │  (새 창에서 관리자 페이지 열림)                                       │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                ↓                                          │
│                                                                             │
│  4. 새 견적 작성                                                            │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  [+ 새 견적] → /admin/mlangprintauto/quote/create.php               │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

### 시스템 2: 관리자 견적 시스템 (`/admin/mlangprintauto/quote/`)

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                         관리자 견적 시스템 (Excel Style)                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  1. 진입점                                                                  │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  https://dsp114.co.kr/admin/mlangprintauto/quote/                    │   │
│  │  - 전용 로그인 (/admin/mlangprintauto/login.php)                      │   │
│  │  - AdminQuoteManager 클래스                                          │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                ↓                                          │
│                                                                             │
│  2. 통계 대시보드                                                            │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐   │   │
│  │  │  전체   │ │ 임시저장 │ │  발송   │ │  승인   │ │ 주문전환 │   │   │
│  │  │   156   │ │   23    │ │   45    │ │   12    │ │    8    │   │   │
│  │  └──────────┘ └──────────┘ └──────────┘ └──────────┘ └──────────┘   │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                ↓                                          │
│                                                                             │
│  3. 필터 검색                                                               │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  상태: [전체▼] | 기간: [날짜 선택] ~ [날짜 선택]                       │   │
│  │  검색: [__________] [검색] [초기화]                               │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                ↓                                          │
│                                                                             │
│  4. 견적 목록 (엑셀 스타일)                                                │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  ┌──────────┬──────────┬────┬──────┬──────┬──────┬──────┬──────────┐ │   │
│  │  │견적번호   │고객정보  │품목│공급가│총액 │상태  │작성일│   관리   │ │   │
│  │  ├──────────┼──────────┼────┼──────┼──────┼──────┼──────┼──────────┤ │   │
│  │  │Q20250111 │두손기획  │  3 │500000│550000│발송 │2025-02│[상세][수정]│ │   │
│  │  │          │홍길동    │    │      │      │      │  -11 │          │ │   │
│  │  └──────────┴──────────┴────┴──────┴──────┴──────┴──────┴──────────┘ │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                ↓                                          │
│                                                                             │
│  5. 상세/수정                                                                │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  [상세] → detail.php (견적서 상세 조회)                               │   │
│  │  [수정] → edit.php (견적서 수정)                                     │   │
│  │  [+ 새 견적서 작성] → create.php                                     │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 상태 변화 프로세스

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              견적 상태 흐름                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   ┌──────────┐                                                              │
│   │  DRAFT   │  ← 견적 작성 중 (임시저장)                                   │
│   │ 임시저장  │                                                              │
│   └────┬─────┘                                                              │
│        │                                                                    │
│        │ [견적서 발송]                                                       │
│        ↓                                                                    │
│   ┌──────────┐                                                              │
│   │   SENT   │  ← 고객에게 이메일/링크 발송 완료                            │
│   │  발송    │                                                              │
│   └────┬─────┘                                                              │
│        │                                                                    │
│        │ [고객이 열람]                                                       │
│        ↓                                                                    │
│   ┌──────────┐                                                              │
│   │ VIEWED   │  ← 고객이 견적서 확인                                       │
│   │  열람    │                                                              │
│   └────┬─────┘                                                              │
│        │                              ┌────────────────────────────┐           │
│        │                              │                              │           │
│        │ [승인]                       │ [거절]                      │           │
│        ↓                              ↓                              ↓           │
│   ┌──────────┐                  ┌──────────┐                  ┌──────────┐       │
│   │ ACCEPTED │                  │ REJECTED │                  │  EXPIRED │       │
│   │  수락    │                  │  거절    │                  │  만료    │       │
│   └────┬─────┘                  └──────────┘                  └──────────┘       │
│        │                                                                           │
│        │ [주문으로 전환]                                                            │
│        ↓                                                                           │
│   ┌──────────┐                                                                     │
│   │ CONVERTED│  ← 주문으로 전환 완료                                              │
│   │ 주문전환 │                                                                     │
│   └──────────┘                                                                     │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 기능 비교표

| 기능 | 대시보드 | 관리자 시스템 |
|------|----------|---------------|
| **목록 조회** | ✅ 카드형 UI | ✅ 엑셀 테이블 |
| **상태 필터** | ✅ 탭 버튼 | ✅ 드롭다운 |
| **검색** | ✅ 고객명/견적번호 | ✅ 고객명/견적번호 |
| **기간 검색** | ❌ | ✅ 날짜 범위 |
| **통계** | ✅ 상단 탭 | ✅ 카드 형태 |
| **페이지네이션** | ✅ | ✅ |
| **새 견적 작성** | ✅ (링크) | ✅ |
| **상세 보기** | ✅ (새 창) | ✅ |
| **수정** | ✅ (새 창) | ✅ |
| **미리보기** | ✅ | ❌ |
| **UI 스타일** | 현대식 Tailwind | 엑셀 스타일 |
| **반응형** | ✅ | ✅ |

---

## 데이터베이스 구조

```sql
admin_quotes
├── id (PK)
├── quote_no (견적번호: QYYYYMMDD-NNN)
├── customer_name (고객명)
├── customer_company (고객회사)
├── customer_email (고객이메일)
├── customer_phone (고객전화번호)
├── status (상태: draft/sent/viewed/accepted/rejected/expired/converted)
├── subtotal (소계)
├── tax_amount (부가세)
├── grand_total (총액)
├── valid_until (유효기간)
├── notes (비고)
├── created_at (작성일)
└── updated_at (수정일)

admin_quote_items (견적 품목)
├── id (PK)
├── quote_id (FK → admin_quotes.id)
├── item_no (품목순번)
├── product_name (제품명)
├── quantity (수량)
├── unit_price (단가)
└── supply_price (공급가액)
```

---

## 요약

### 대시보드 견적 관리 (`/dashboard/quotes/`)
- ✅ **현대적이고 직관적인 UI**
- ✅ **빠른 상태 필터링** (탭 버튼)
- ✅ **미리보기 기능**
- ✅ **실시간 관리에 최적**

### 관리자 견적 시스템 (`/admin/mlangprintauto/quote/`)
- ✅ **엑셀 스타일에 익숙한 사용자**
- ✅ **기간별 검색 지원**
- ✅ **AdminQuoteManager 클래스로 구조화**
- ✅ **상세한 견적서 관리**

---

*문서 생성일: 2026-02-11*
*버전: 1.0*
