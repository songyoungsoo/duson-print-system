<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ” ì „ë‹¨ì§€ ì˜µì…˜ ë°ì´í„° íë¦„ í…ŒìŠ¤íŠ¸</title>
    <style>
        body { font-family: 'Malgun Gothic', sans-serif; margin: 20px; background: #f5f5f5; }
        .container { max-width: 1200px; margin: 0 auto; }
        h1 { color: #2c3e50; text-align: center; border-bottom: 3px solid #3498db; padding-bottom: 15px; }
        .test-box { background: white; padding: 25px; margin: 20px 0; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .test-box h2 { color: #3498db; margin-top: 0; border-bottom: 2px solid #ecf0f1; padding-bottom: 10px; }
        .status { padding: 15px; margin: 15px 0; border-radius: 5px; border-left: 5px solid; }
        .status.success { background: #d4edda; border-color: #28a745; color: #155724; }
        .status.error { background: #f8d7da; border-color: #dc3545; color: #721c24; }
        .status.info { background: #d1ecf1; border-color: #17a2b8; color: #0c5460; }
        .status.warning { background: #fff3cd; border-color: #ffc107; color: #856404; }
        button { background: #3498db; color: white; border: none; padding: 12px 24px; border-radius: 5px; cursor: pointer; font-size: 14px; font-weight: bold; margin: 5px; }
        button:hover { background: #2980b9; }
        button.success { background: #28a745; }
        button.danger { background: #dc3545; }
        .code { background: #2d2d2d; color: #f8f8f2; padding: 15px; border-radius: 5px; font-family: 'Courier New', monospace; margin: 10px 0; overflow-x: auto; font-size: 13px; }
        .result-item { padding: 10px; margin: 5px 0; background: #f8f9fa; border-left: 3px solid #3498db; border-radius: 3px; }
        .badge { display: inline-block; padding: 4px 8px; border-radius: 3px; font-size: 11px; font-weight: bold; margin-left: 10px; }
        .badge.yes { background: #28a745; color: white; }
        .badge.no { background: #6c757d; color: white; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ” ì „ë‹¨ì§€ ì˜µì…˜ ë°ì´í„° íë¦„ ì™„ì „ í…ŒìŠ¤íŠ¸</h1>

        <div class="status info">
            <strong>ğŸ¯ í…ŒìŠ¤íŠ¸ ëª©ì :</strong> JavaScript â†’ FormData â†’ POST â†’ shop_temp ì „ì²´ íë¦„ ê²€ì¦<br>
            <strong>ğŸ”§ ìˆ˜ì •ì‚¬í•­:</strong>
            <ul style="margin: 10px 0 0 0;">
                <li>âœ… <code>querySelector(':checked')</code> â†’ <code>getElementById().checked</code> ì§ì ‘ ì ‘ê·¼ìœ¼ë¡œ ë³€ê²½</li>
                <li>âœ… <code>product_type: 'leaflet'</code> â†’ <code>'inserted'</code>ë¡œ ìˆ˜ì •</li>
                <li>âœ… ìƒì„¸í•œ ì½˜ì†” ë¡œê·¸ ì¶”ê°€</li>
            </ul>
        </div>

        <div class="test-box">
            <h2>ğŸ“‹ í…ŒìŠ¤íŠ¸ ì ˆì°¨</h2>
            <ol style="line-height: 2;">
                <li><strong>ë¸Œë¼ìš°ì € ì½˜ì†” ì—´ê¸°</strong> - F12 ë˜ëŠ” Ctrl+Shift+I</li>
                <li><strong>ì „ë‹¨ì§€ í˜ì´ì§€ ì—´ê¸°</strong>
                    <button onclick="window.open('index.php', '_blank')">ğŸ“„ ì „ë‹¨ì§€ í˜ì´ì§€ ì—´ê¸°</button>
                </li>
                <li><strong>ì˜µì…˜ ì„ íƒ:</strong>
                    <ul>
                        <li>âœ… ì½”íŒ… ì²´í¬ë°•ìŠ¤ í´ë¦­ â†’ ë‹¨ë©´ìœ ê´‘ì½”íŒ… ì„ íƒ</li>
                        <li>âœ… ì ‘ì§€ ì²´í¬ë°•ìŠ¤ í´ë¦­ â†’ 2ë‹¨ì ‘ì§€ ì„ íƒ</li>
                        <li>âœ… ì˜¤ì‹œ ì²´í¬ë°•ìŠ¤ í´ë¦­ â†’ 1ì¤„ ì„ íƒ</li>
                    </ul>
                </li>
                <li><strong>íŒŒì¼ ì—…ë¡œë“œ ë° ì£¼ë¬¸í•˜ê¸°</strong></li>
                <li><strong>ì½˜ì†” ë©”ì‹œì§€ í™•ì¸</strong> (ì•„ë˜ ì°¸ê³ )</li>
                <li><strong>ê²°ê³¼ ê²€ì¦</strong>
                    <button onclick="window.open('verify_options_storage.php', '_blank')" class="success">âœ… ì €ì¥ ê²°ê³¼ í™•ì¸</button>
                </li>
            </ol>
        </div>

        <div class="test-box">
            <h2>ğŸ“ ì˜ˆìƒë˜ëŠ” ì½˜ì†” ë©”ì‹œì§€ (ì •ìƒ ì‘ë™ ì‹œ)</h2>
            <div class="code">ğŸ”§ ì¶”ê°€ ì˜µì…˜ ë°ì´í„° ìˆ˜ì§‘ ì‹œì‘

ì½”íŒ… ì²´í¬ë°•ìŠ¤ ìƒíƒœ: true â†’ 1
  âœ… ì½”íŒ… íƒ€ì…: single ê°€ê²©: 80000
ì ‘ì§€ ì²´í¬ë°•ìŠ¤ ìƒíƒœ: true â†’ 1
  âœ… ì ‘ì§€ íƒ€ì…: 2fold ê°€ê²©: 40000
ì˜¤ì‹œ ì²´í¬ë°•ìŠ¤ ìƒíƒœ: true â†’ 1
  âœ… ì˜¤ì‹œ ì¤„ ìˆ˜: 1 ê°€ê²©: 40000
ğŸ“Š ì¶”ê°€ ì˜µì…˜ ì´í•©: 160000 ì›

ğŸ” FormDataì— ì¶”ê°€ëœ ì˜µì…˜ ë°ì´í„°:
coating_enabled: 1
coating_type: single
coating_price: 80000
folding_enabled: 1
folding_type: 2fold
folding_price: 40000
creasing_enabled: 1
creasing_lines: 1
creasing_price: 40000
additional_options_total: 160000

ğŸš€ ì„œë²„ë¡œ ì „ì†¡í•  ë°ì´í„°:
- ê¸°ë³¸ê°€ê²© (VATì œì™¸): [ê°€ê²©]
- ì´ ê°€ê²© (VATí¬í•¨): [ê°€ê²©]
- ì¶”ê°€ì˜µì…˜: 160000
- ì‘ì—…ë©”ëª¨: [ë©”ëª¨]
- ì—…ë¡œë“œíŒŒì¼ìˆ˜: [ê°œìˆ˜]</div>
        </div>

        <div class="test-box">
            <h2>ğŸ” ì²´í¬í¬ì¸íŠ¸ë³„ ê²€ì¦</h2>

            <div class="result-item">
                <strong>âœ… ì²´í¬í¬ì¸íŠ¸ 1: ì²´í¬ë°•ìŠ¤ ì°¾ê¸°</strong>
                <div class="code" style="margin-top: 10px; font-size: 12px;">// ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ ì‹¤í–‰:
document.getElementById('coating_enabled')
// ê²°ê³¼: HTMLInputElementê°€ ë°˜í™˜ë˜ì–´ì•¼ í•¨ (nullì´ë©´ HTML ì˜¤ë¥˜)</div>
            </div>

            <div class="result-item">
                <strong>âœ… ì²´í¬í¬ì¸íŠ¸ 2: ì²´í¬ ìƒíƒœ í™•ì¸</strong>
                <div class="code" style="margin-top: 10px; font-size: 12px;">// ì²´í¬ë°•ìŠ¤ í´ë¦­ í›„ ì‹¤í–‰:
document.getElementById('coating_enabled').checked
// ê²°ê³¼: true (ì²´í¬ë¨) ë˜ëŠ” false (ì²´í¬ ì•ˆë¨)</div>
            </div>

            <div class="result-item">
                <strong>âœ… ì²´í¬í¬ì¸íŠ¸ 3: Hidden í•„ë“œ ê°’ í™•ì¸</strong>
                <div class="code" style="margin-top: 10px; font-size: 12px;">// ì˜µì…˜ ì„ íƒ í›„ ì‹¤í–‰:
document.getElementById('coating_price').value
document.getElementById('folding_price').value
document.getElementById('creasing_price').value
document.getElementById('additional_options_total').value
// ê²°ê³¼: ìˆ«ì ë¬¸ìì—´ (ì˜ˆ: "80000")</div>
            </div>

            <div class="result-item">
                <strong>âœ… ì²´í¬í¬ì¸íŠ¸ 4: FormData ì „ì†¡ í™•ì¸</strong>
                <div class="code" style="margin-top: 10px; font-size: 12px;">// Network íƒ­ì—ì„œ add_to_basket.php ìš”ì²­ í™•ì¸:
// - Form Data ì„¹ì…˜ì—ì„œ coating_enabled, coating_type, coating_price í™•ì¸
// - ëª¨ë“  ê°’ì´ ì˜¬ë°”ë¥´ê²Œ ì „ì†¡ë˜ëŠ”ì§€ í™•ì¸</div>
            </div>

            <div class="result-item">
                <strong>âœ… ì²´í¬í¬ì¸íŠ¸ 5: ë°ì´í„°ë² ì´ìŠ¤ ì €ì¥ í™•ì¸</strong>
                <div class="code" style="margin-top: 10px; font-size: 12px;">// verify_options_storage.phpì—ì„œ í™•ì¸:
// - coating_enabled = 1
// - coating_type = single (ë˜ëŠ” ì„ íƒí•œ ê°’)
// - coating_price = 80000 (ë˜ëŠ” ê³„ì‚°ëœ ê°’)
// - additional_options_total = ì´í•©</div>
            </div>
        </div>

        <div class="test-box">
            <h2>âŒ ë¬¸ì œ ë°œìƒ ì‹œ í•´ê²° ë°©ë²•</h2>

            <div class="result-item">
                <strong>ë¬¸ì œ 1: "ì²´í¬ë°•ìŠ¤ ìƒíƒœ: not found"</strong>
                <div style="margin-top: 10px;">
                    <strong>ì›ì¸:</strong> HTMLì— ì²´í¬ë°•ìŠ¤ê°€ ì—†ê±°ë‚˜ IDê°€ ì˜ëª»ë¨<br>
                    <strong>í•´ê²°:</strong> index.phpì—ì„œ AdditionalOptions.phpê°€ í¬í•¨ë˜ì—ˆëŠ”ì§€ í™•ì¸
                </div>
            </div>

            <div class="result-item">
                <strong>ë¬¸ì œ 2: "ì²´í¬ë°•ìŠ¤ ìƒíƒœ: false â†’ 0" (ê³„ì† 0ìœ¼ë¡œ ë‚˜ì˜´)</strong>
                <div style="margin-top: 10px;">
                    <strong>ì›ì¸:</strong> ì²´í¬ë°•ìŠ¤ë¥¼ í´ë¦­í–ˆì§€ë§Œ JavaScriptê°€ ìƒíƒœë¥¼ ëª» ì½ìŒ<br>
                    <strong>í•´ê²°:</strong> additional-options.jsê°€ ë¡œë“œë˜ì—ˆëŠ”ì§€ í™•ì¸, ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ í™•ì¸
                </div>
            </div>

            <div class="result-item">
                <strong>ë¬¸ì œ 3: "FormDataì— ì˜µì…˜ ë°ì´í„°ê°€ ì—†ìŒ"</strong>
                <div style="margin-top: 10px;">
                    <strong>ì›ì¸:</strong> leaflet-compact.jsì˜ FormData ìˆ˜ì§‘ ì½”ë“œ ì˜¤ë¥˜<br>
                    <strong>í•´ê²°:</strong> âœ… ì´ë¯¸ ìˆ˜ì •ë¨ (getElementById ì§ì ‘ ì ‘ê·¼)
                </div>
            </div>

            <div class="result-item">
                <strong>ë¬¸ì œ 4: "ì„œë²„ì— ì „ì†¡ë˜ì§€ë§Œ DBì— ì €ì¥ ì•ˆë¨"</strong>
                <div style="margin-top: 10px;">
                    <strong>ì›ì¸:</strong> add_to_basket.phpì˜ INSERT ì¿¼ë¦¬ ì˜¤ë¥˜<br>
                    <strong>í•´ê²°:</strong> âœ… ì´ë¯¸ í™•ì¸ë¨ (ì¿¼ë¦¬ ì •ìƒ)
                </div>
            </div>
        </div>

        <div class="status success">
            <strong>âœ… ìˆ˜ì • ì™„ë£Œ í•­ëª©:</strong><br>
            1. <code>querySelector(':checked')</code> â†’ <code>getElementById().checked</code> ë³€ê²½<br>
            2. <code>product_type: 'leaflet'</code> â†’ <code>'inserted'</code> ìˆ˜ì •<br>
            3. ìƒì„¸ ë¡œê·¸ ì¶”ê°€ë¡œ ë””ë²„ê¹… ìš©ì´<br>
            4. shop_temp í…Œì´ë¸” êµ¬ì¡° í™•ì¸ ì™„ë£Œ<br>
            5. add_to_basket.php INSERT ì¿¼ë¦¬ ê²€ì¦ ì™„ë£Œ
        </div>

        <div style="text-align: center; margin: 30px 0;">
            <button onclick="window.open('index.php', '_blank')">ğŸ“„ ì „ë‹¨ì§€ ì£¼ë¬¸ í˜ì´ì§€</button>
            <button onclick="window.open('verify_options_storage.php', '_blank')" class="success">âœ… ì €ì¥ ê²°ê³¼ í™•ì¸</button>
            <button onclick="window.open('../cart.php', '_blank')" class="success">ğŸ›’ ì¥ë°”êµ¬ë‹ˆ ë³´ê¸°</button>
        </div>
    </div>
</body>
</html>
