/* ===================================================================== */
/* 🎯 봉투 페이지 갤러리-계산기 높이 동기화 시스템 */
/* Wall Street 프로페셔널 디자인 - 정숙한 사무실 분위기 */
/* ===================================================================== */

/* 🔄 높이 동기화 변수 정의 */
:root {
    --sync-height-desktop: 450px;
    --sync-height-tablet: 400px;
    --sync-height-mobile: 350px;
}

/* 📐 메인 컨테이너 - 갤러리와 계산기 동일한 높이 보장 */
.main-content {
    display: grid !important;
    grid-template-columns: 1fr 1fr !important;
    gap: 20px !important;
    align-items: stretch !important; /* 높이를 동일하게 맞춤 */
    min-height: var(--sync-height-desktop) !important;
}

/* 🖼️ 갤러리 섹션 - 계산기와 동일한 높이 및 스타일 */
.envelope-gallery {
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%) !important;
    border-radius: 15px !important;
    padding: 25px !important;
    box-shadow: 0 10px 35px rgba(0, 0, 0, 0.12), 0 4px 15px rgba(0, 0, 0, 0.08) !important;
    border: 1px solid rgba(255, 255, 255, 0.9) !important;
    position: relative !important;
    
    /* 🎯 핵심: 계산기와 동일한 높이 설정 */
    height: var(--sync-height-desktop) !important;
    min-height: var(--sync-height-desktop) !important;
    max-height: var(--sync-height-desktop) !important;
    
    /* 콘텐츠 오버플로우 처리 */
    overflow: hidden !important;
    display: flex !important;
    flex-direction: column !important;
}

/* 🧮 계산기 섹션 - 갤러리와 동일한 높이 보장 */
.calculator-section {
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%) !important;
    border-radius: 15px !important;
    padding: 25px !important;
    box-shadow: 0 10px 35px rgba(0, 0, 0, 0.12), 0 4px 15px rgba(0, 0, 0, 0.08) !important;
    border: 1px solid rgba(255, 255, 255, 0.9) !important;
    position: relative !important;
    
    /* 🎯 핵심: 갤러리와 동일한 높이 설정 */
    height: var(--sync-height-desktop) !important;
    min-height: var(--sync-height-desktop) !important;
    max-height: var(--sync-height-desktop) !important;
    
    /* 콘텐츠 오버플로우 처리 */
    overflow-y: auto !important;
    overflow-x: hidden !important;
    display: flex !important;
    flex-direction: column !important;
}

/* 📋 갤러리 콘텐츠 영역 - 전체 공간 활용 */
#envelopeGallery {
    flex: 1 !important;
    overflow-y: auto !important;
    overflow-x: hidden !important;
    
    /* 스크롤바 스타일링 - Wall Street 디자인 */
    scrollbar-width: thin !important;
    scrollbar-color: #cbd5e0 #f7fafc !important;
}

#envelopeGallery::-webkit-scrollbar {
    width: 6px !important;
}

#envelopeGallery::-webkit-scrollbar-track {
    background: #f7fafc !important;
    border-radius: 3px !important;
}

#envelopeGallery::-webkit-scrollbar-thumb {
    background: #cbd5e0 !important;
    border-radius: 3px !important;
}

#envelopeGallery::-webkit-scrollbar-thumb:hover {
    background: #a0aec0 !important;
}

/* 🎨 헤더 제거됨 - 깔끔한 디자인 */

/* 📝 계산기 폼 영역 - 스크롤 가능한 콘텐츠 */
.calculator-section form {
    flex: 1 !important;
    overflow-y: auto !important;
    overflow-x: hidden !important;
    padding-right: 5px !important; /* 스크롤바 여백 */
    
    /* 스크롤바 스타일링 - 갤러리와 동일 */
    scrollbar-width: thin !important;
    scrollbar-color: #cbd5e0 #f7fafc !important;
}

.calculator-section form::-webkit-scrollbar {
    width: 6px !important;
}

.calculator-section form::-webkit-scrollbar-track {
    background: #f7fafc !important;
    border-radius: 3px !important;
}

.calculator-section form::-webkit-scrollbar-thumb {
    background: #cbd5e0 !important;
    border-radius: 3px !important;
}

.calculator-section form::-webkit-scrollbar-thumb:hover {
    background: #a0aec0 !important;
}

/* 🔄 라이트박스 뷰어 크기 조정 - 갤러리 전체 공간 활용 */
.lightbox-viewer {
    width: 100% !important;
    height: 300px !important; /* 헤더가 없어서 더 큰 공간 사용 가능 */
    max-height: 300px !important;
    background-color: #fff !important;
    border-radius: 12px !important;
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1) !important;
    margin-bottom: 15px !important;
    cursor: zoom-in !important;
    transition: all 0.3s ease !important;
    border: 2px solid #e9ecef !important;
    position: relative !important;
    overflow: hidden !important;
    flex-shrink: 0 !important;
}

/* 📱 태블릿 반응형 */
@media (max-width: 1024px) {
    :root {
        --sync-height-desktop: var(--sync-height-tablet);
    }
    
    .main-content {
        gap: 15px !important;
    }
    
    .lightbox-viewer {
        height: 200px !important;
        max-height: 200px !important;
    }
}

/* 📱 모바일 반응형 */
@media (max-width: 768px) {
    :root {
        --sync-height-desktop: var(--sync-height-mobile);
    }
    
    .main-content {
        grid-template-columns: 1fr !important;
        gap: 10px !important;
    }
    
    .envelope-gallery,
    .calculator-section {
        height: var(--sync-height-mobile) !important;
        min-height: var(--sync-height-mobile) !important;
        max-height: var(--sync-height-mobile) !important;
        padding: 20px !important;
    }
    
    /* 헤더가 제거되어 모바일 헤더 스타일 불필요 */
    
    .lightbox-viewer {
        height: 150px !important;
        max-height: 150px !important;
    }
}

/* 🎯 콘텐츠 높이 최적화 알고리즘 */
@media (min-height: 800px) {
    :root {
        --sync-height-desktop: 500px; /* 세로 공간이 충분할 때 더 키움 */
    }
    
    .lightbox-viewer {
        height: 300px !important;
        max-height: 300px !important;
    }
}

@media (max-height: 600px) {
    :root {
        --sync-height-desktop: 350px; /* 세로 공간이 부족할 때 압축 */
    }
    
    .lightbox-viewer {
        height: 180px !important;
        max-height: 180px !important;
    }
}

/* ✨ 호버 효과 - Wall Street 프로페셔널 스타일 */
.envelope-gallery:hover,
.calculator-section:hover {
    transform: translateY(-2px) !important;
    box-shadow: 0 15px 45px rgba(0, 0, 0, 0.15), 0 6px 20px rgba(0, 0, 0, 0.1) !important;
    transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
}

/* 🔧 기존 인라인 스타일 무력화 */
.calculator-section[style*="height"] {
    height: var(--sync-height-desktop) !important;
    min-height: var(--sync-height-desktop) !important;
    max-height: var(--sync-height-desktop) !important;
}

.envelope-gallery[style*="height"],
.gallery-section[style*="height"] {
    height: var(--sync-height-desktop) !important;
    min-height: var(--sync-height-desktop) !important;
    max-height: var(--sync-height-desktop) !important;
}

/* 🚀 성능 최적화 */
.envelope-gallery,
.calculator-section,
.lightbox-viewer {
    will-change: transform !important;
    backface-visibility: hidden !important;
}

/* 🎨 미세 조정 - 정숙한 사무실 분위기 완성 */
.thumbnail-strip {
    margin-top: auto !important; /* 썸네일을 하단으로 밀어내기 */
    flex-shrink: 0 !important;
}