/**
 * ìŠ¤í‹°ì»¤ ì‹œìŠ¤í…œ í†µí•© ë””ìì¸ ì˜¤ë²„ë ˆì´ CSS
 * NameCard 2ë‹¨ ê·¸ë¦¬ë“œ + envelope ê°¤ëŸ¬ë¦¬ ê¸°ìˆ  ì ìš©
 * ê¸°ì¡´ view_modern.php ê¸°ëŠ¥ 100% ë³´ì¡´í•˜ë©´ì„œ ë¹„ì£¼ì–¼ë§Œ ë³€ê²½
 */

/* =================================================================
   1. ë©”ì¸ ì»¨í…Œì´ë„ˆ â†’ 2ë‹¨ ê·¸ë¦¬ë“œ ë³€í™˜ (NameCard ìŠ¤íƒ€ì¼)
   ================================================================= */

.container {
    display: grid !important;
    grid-template-columns: 500px 1fr !important;
    gap: 30px !important;
    max-width: 1200px !important;
    margin: 30px auto !important;
    padding: 0 20px !important;
}

/* í˜ì´ì§€ íƒ€ì´í‹€ í†µí•© (ê·¸ë¦¬ë“œ ì „ì²´ ë„ˆë¹„ ì‚¬ìš©) */
.container::before {
    content: "ğŸ·ï¸ ìŠ¤í‹°ì»¤ ê²¬ì ì•ˆë‚´";
    grid-column: 1 / -1 !important;
    font-size: 1.8rem !important;
    font-weight: bold !important;
    text-align: center !important;
    color: #2c3e50 !important;
    margin-bottom: 1rem !important;
    padding: 1rem !important;
    background: linear-gradient(135deg, #4a5568 0%, #2d3748 100%) !important;
    color: white !important;
    border-radius: 15px !important;
}

/* =================================================================
   2. ì¢Œì¸¡ ê°¤ëŸ¬ë¦¬ ì„¹ì…˜ (500px ê³ ì •) - envelope ìŠ¤íƒ€ì¼ ì ìš©
   ================================================================= */

.container .card:first-of-type {
    grid-column: 1 !important;
    background: white !important;
    border-radius: 15px !important;
    box-shadow: 0 10px 30px rgba(0,0,0,0.08) !important;
    overflow: hidden !important;
    height: fit-content !important;
    margin-bottom: 0 !important;
}

/* ê°¤ëŸ¬ë¦¬ í—¤ë” - NameCard ìŠ¤íƒ€ì¼ */
.container .card:first-of-type .card-header {
    background: linear-gradient(135deg, #4a5568 0%, #2d3748 100%) !important;
    color: white !important;
    padding: 15px 20px !important;
    border-radius: 0 !important;
    margin: 0 !important;
}

.container .card:first-of-type .card-title {
    font-size: 1.1rem !important;
    font-weight: 600 !important;
    margin: 0 !important;
}

.container .card:first-of-type .card-subtitle {
    font-size: 0.9rem !important;
    margin: 0.3rem 0 0 0 !important;
    opacity: 0.9 !important;
}

/* ê°¤ëŸ¬ë¦¬ ì»¨í…Œì´ë„ˆ ê°œì„  */
.gallery-container {
    padding: 1rem !important;
    background: #f8f9fa !important;
}

.gallery-grid {
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 0.8rem !important;
    max-height: 400px !important;
    overflow-y: auto !important;
}

/* ê°¤ëŸ¬ë¦¬ ì•„ì´í…œ í–¥ìƒ - envelope ê¸°ìˆ  ì ìš© */
.gallery-item {
    border-radius: 12px !important;
    transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
    position: relative !important;
    overflow: hidden !important;
}

.gallery-item:hover {
    transform: translateY(-6px) scale(1.02) !important;
    box-shadow: 0 15px 40px rgba(0,0,0,0.2) !important;
    z-index: 10 !important;
}

.gallery-item img {
    height: 140px !important;
    transition: transform 0.4s ease !important;
}

.gallery-item:hover img {
    transform: scale(1.1) !important;
}

/* =================================================================
   3. ìš°ì¸¡ ê³„ì‚°ê¸° ì„¹ì…˜ (ë‚˜ë¨¸ì§€ ê³µê°„) - NameCard ìŠ¤íƒ€ì¼ ì ìš©
   ================================================================= */

.container .card:nth-of-type(2) {
    grid-column: 2 !important;
    background: white !important;
    border-radius: 15px !important;
    box-shadow: 0 10px 30px rgba(0,0,0,0.08) !important;
    padding: 0 !important;
    height: fit-content !important;
    margin-bottom: 0 !important;
}

/* ê³„ì‚°ê¸° í—¤ë” - NameCard ìŠ¤íƒ€ì¼ */
.container .card:nth-of-type(2) .card-header {
    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%) !important;
    color: white !important;
    padding: 20px 25px !important;
    border-radius: 15px 15px 0 0 !important;
    margin: 0 !important;
}

.container .card:nth-of-type(2) .card-title {
    font-size: 1.2rem !important;
    font-weight: 600 !important;
    margin: 0 !important;
}

.container .card:nth-of-type(2) .card-subtitle {
    font-size: 0.95rem !important;
    margin: 0.5rem 0 0 0 !important;
    opacity: 0.9 !important;
}

/* í¼ í…Œì´ë¸” ì˜ì—­ ê°œì„  */
.order-form-table {
    margin: 0 !important;
    padding: 1.5rem !important;
}

.order-form-table .label-cell {
    padding: 1rem 0.8rem !important;
    width: 140px !important;
    vertical-align: top !important;
}

.order-form-table .input-cell {
    padding: 1rem 1.5rem !important;
    vertical-align: top !important;
}

/* ì•„ì´ì½˜ ë¼ë²¨ ê°œì„  */
.icon-label {
    display: flex !important;
    align-items: center !important;
    gap: 0.5rem !important;
    font-weight: 600 !important;
    color: #2c3e50 !important;
}

.icon-label .icon {
    font-size: 1.2rem !important;
}

/* ì…ë ¥ ì»¨íŠ¸ë¡¤ ê°œì„  */
.form-control-modern {
    width: 100% !important;
    padding: 12px 16px !important;
    border: 2px solid #e9ecef !important;
    border-radius: 8px !important;
    font-size: 1rem !important;
    transition: all 0.3s ease !important;
    background: white !important;
}

.form-control-modern:hover {
    border-color: #007bff !important;
    box-shadow: 0 2px 8px rgba(0,123,255,0.1) !important;
}

.form-control-modern:focus {
    border-color: #007bff !important;
    box-shadow: 0 0 0 3px rgba(0,123,255,0.15) !important;
    outline: none !important;
}

/* ê³„ì‚° ë²„íŠ¼ ê°œì„  */
.btn-calculate {
    padding: 15px 40px !important;
    border: none !important;
    border-radius: 50px !important;
    background: linear-gradient(135deg, #4a5568 0%, #2d3748 100%) !important;
    color: white !important;
    font-size: 1.1rem !important;
    font-weight: 600 !important;
    cursor: pointer !important;
    transition: all 0.3s ease !important;
    box-shadow: 0 8px 25px rgba(102,126,234,0.3) !important;
}

.btn-calculate:hover {
    transform: translateY(-3px) !important;
    box-shadow: 0 15px 35px rgba(102,126,234,0.4) !important;
}

.btn-calculate:active {
    transform: translateY(-1px) !important;
}

/* =================================================================
   4. ê°€ê²© ê²°ê³¼ ì„¹ì…˜ ê°œì„  (NameCard ìŠ¤íƒ€ì¼)
   ================================================================= */

#priceSection {
    grid-column: 1 / -1 !important;
    background: white !important;
    border-radius: 15px !important;
    box-shadow: 0 10px 30px rgba(0,0,0,0.08) !important;
    margin-top: 2rem !important;
    padding: 2rem !important;
}

/* ê²¬ì  ê²°ê³¼ íƒ€ì´í‹€ */
#priceSection h3 {
    color: #2c3e50 !important;
    font-size: 1.4rem !important;
    font-weight: 700 !important;
    margin-bottom: 1.5rem !important;
    text-align: center !important;
}

/* ê²¬ì  í…Œì´ë¸” ê°œì„  */
.quote-table {
    border-collapse: separate !important;
    border-spacing: 0 !important;
    width: 100% !important;
    border-radius: 12px !important;
    overflow: hidden !important;
    box-shadow: 0 4px 15px rgba(0,0,0,0.08) !important;
}

.quote-table thead th {
    background: linear-gradient(135deg, #4a5568 0%, #2d3748 100%) !important;
    color: white !important;
    padding: 1rem !important;
    font-weight: 600 !important;
}

.quote-table tbody td {
    padding: 0.8rem 1rem !important;
    border-bottom: 1px solid #f1f3f4 !important;
}

.quote-table .total-row td {
    background: #f8f9fa !important;
    font-weight: 600 !important;
    font-size: 1.05rem !important;
}

.quote-table .vat-row td {
    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%) !important;
    color: white !important;
    font-weight: 700 !important;
    font-size: 1.1rem !important;
}

/* ë‹¤ìŒ ë‹¨ê³„ ì„¹ì…˜ ê°œì„  */
#priceSection > div {
    background: linear-gradient(135deg, #e8f5e8 0%, #f0f8f0 100%) !important;
    border: 2px solid #28a745 !important;
    border-radius: 12px !important;
    padding: 1.5rem !important;
    margin-top: 1.5rem !important;
}

#priceSection h4 {
    color: #155724 !important;
    font-size: 1.1rem !important;
    font-weight: 700 !important;
    margin-bottom: 1rem !important;
}

/* ì•¡ì…˜ ë²„íŠ¼ ê°œì„  */
.price-action-buttons button {
    padding: 12px 30px !important;
    border: none !important;
    border-radius: 8px !important;
    font-size: 1rem !important;
    font-weight: 600 !important;
    cursor: pointer !important;
    transition: all 0.3s ease !important;
    margin: 0.5rem !important;
}

.price-action-buttons button:hover {
    transform: translateY(-2px) !important;
}

/* =================================================================
   5. ì´ë¯¸ì§€ ëª¨ë‹¬ ê°œì„  (envelope ê³ ê¸‰ ê¸°ìˆ )
   ================================================================= */

.image-modal {
    backdrop-filter: blur(5px) !important;
    animation: modalFadeIn 0.3s ease-out !important;
}

@keyframes modalFadeIn {
    from {
        opacity: 0;
        backdrop-filter: blur(0px);
    }
    to {
        opacity: 1;
        backdrop-filter: blur(5px);
    }
}

.image-modal-content {
    animation: modalSlideIn 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
    box-shadow: 0 25px 80px rgba(0,0,0,0.4) !important;
}

@keyframes modalSlideIn {
    from {
        transform: translateY(-50px) scale(0.9);
        opacity: 0;
    }
    to {
        transform: translateY(0) scale(1);
        opacity: 1;
    }
}

.image-modal-header {
    background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%) !important;
}

/* =================================================================
   6. ë°˜ì‘í˜• ë””ìì¸ (ëª¨ë°”ì¼ ëŒ€ì‘)
   ================================================================= */

@media (max-width: 768px) {
    .container {
        grid-template-columns: 1fr !important;
        gap: 1rem !important;
        padding: 0 10px !important;
        margin: 15px auto !important;
    }
    
    .container .card:first-of-type,
    .container .card:nth-of-type(2) {
        grid-column: 1 !important;
    }
    
    .gallery-grid {
        grid-template-columns: repeat(2, 1fr) !important;
        max-height: 300px !important;
    }
    
    .gallery-item img {
        height: 100px !important;
    }
    
    .order-form-table .label-cell {
        width: auto !important;
        display: block !important;
        padding: 0.5rem 0 !important;
    }
    
    .order-form-table .input-cell {
        display: block !important;
        padding: 0.5rem 0 1rem 0 !important;
    }
    
    .size-inputs {
        flex-direction: column !important;
        text-align: center !important;
    }
    
    .size-inputs .size-multiply {
        transform: rotate(90deg) !important;
        margin: 0.5rem 0 !important;
    }
    
    #priceSection {
        padding: 1rem !important;
    }
}

/* =================================================================
   7. ì„±ëŠ¥ ìµœì í™” ë° ë¶€ë“œëŸ¬ìš´ ì• ë‹ˆë©”ì´ì…˜
   ================================================================= */

/* GPU ê°€ì†í™” */
.gallery-item,
.btn-calculate,
.price-action-buttons button,
.form-control-modern {
    will-change: transform, box-shadow !important;
}

/* ìŠ¤í¬ë¡¤ ìµœì í™” */
.gallery-grid {
    scrollbar-width: thin !important;
    scrollbar-color: #dee2e6 transparent !important;
}

.gallery-grid::-webkit-scrollbar {
    width: 6px !important;
}

.gallery-grid::-webkit-scrollbar-track {
    background: transparent !important;
}

.gallery-grid::-webkit-scrollbar-thumb {
    background: #dee2e6 !important;
    border-radius: 3px !important;
}

/* ë¡œë”© ìƒíƒœ ê°œì„  */
.gallery-grid img[loading="lazy"] {
    transition: opacity 0.3s ease !important;
}

.gallery-grid img[loading="lazy"]:not([src]) {
    opacity: 0 !important;
}

/* =================================================================
   8. ì ‘ê·¼ì„± ê°œì„ 
   ================================================================= */

/* í¬ì»¤ìŠ¤ í‘œì‹œ ê°œì„  */
.gallery-item:focus,
.btn-calculate:focus,
.form-control-modern:focus,
.price-action-buttons button:focus {
    outline: 3px solid #007bff !important;
    outline-offset: 2px !important;
}

/* ê³ ëŒ€ë¹„ ëª¨ë“œ ì§€ì› */
@media (prefers-contrast: high) {
    .container .card:first-of-type .card-header,
    .container .card:nth-of-type(2) .card-header {
        background: #000 !important;
        color: #fff !important;
    }
    
    .btn-calculate {
        background: #000 !important;
        border: 2px solid #fff !important;
    }
}

/* ì• ë‹ˆë©”ì´ì…˜ ê°ì†Œ ì„¤ì • ì§€ì› */
@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}