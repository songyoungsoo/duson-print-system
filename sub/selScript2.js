/* selscript1과 비교
	- selPaper()함수 없어짐.
	- 수량을 div기능을 이용하여 히든으로 표시하지 않고 배열을 이용해서 스크립트에서 표현
	- viewSzie() : 규격 select 추가
	- viewCnt() : 수량 표기
	- 코팅 대신 규격 부분을 숨기고 보이게함.
	- _auto1.php에 있던 cntchk,designClick 히든값 삭제
*/



//+++++++++규격 select option++++++++++++++++++++
	s0 = new Array('▒ 용지를 선택해 주세요 ▒');
	s1 = new Array('6*4','7*4','9*5.5','9*6','9*7','9*8','9*9','9*10','9*11','9*12','9*13','9*14','9*15');//사각스티커-일반인쇄
	s2 = new Array('6*4','7*4','9*5.5','9*6','9*7','9*8','9*9','9*10','9*11','9*12','9*13','9*14','9*15');//사각스티커-배경인쇄
	s3 = new Array('10','11','12','13','14','15','16','17','18','19','20','21','22','25','28','30','33','35','38','40','43','45','48','50','60','65');//원형스티커-일반/배경 구분 없음
	s4 = new Array('50*20','50*25','50*30','55*25','55*30','60*25','60*30');//타원형스티커
	s5 = new Array('단면','양면');//CD자켓
	s6 = new Array();//도무송스티거는 조건 없음.
	s7 = new Array('70*90','80*90','90*90','100*90','110*90','120*90','130*90');//종이자석스티커
	s8 = new Array('38*55','40*60','45*65','55*80','65*90');//자석 시티커


// 용지별 규격 내용 : 용지를 선택했을때
function viewSize(f) { 
	f=document.ordform;
	var sn = f.paper.selectedIndex;
	sObj = eval("s"+sn);
    f.size.options.length = sObj.length + 1; 
    f.size.options[0] = new Option("▒ 규격 ▒", "notset", true, false); 
    for (var i = 1; i <= sObj.length; i++) { 
        f.size.options[i] = new Option(sObj[i-1]); 
    } 

	//도무송 용지는 규격이 없음.
	if(sn=="6"){
		document.all["sizeA"].style.visibility = "hidden"; 
		document.all["sizeA"].style.position = "absolute";
		viewCnt();
	}else{
		document.all["sizeA"].style.visibility = "visible";
		document.all["sizeA"].style.position = "";
	}

	//수량셀렉트도 초기화한다.
	f.cnt.options[0].selected=true;

	//가격 비우기
	f.price.value ="0";
	f.total.value="0";

	// 모든 디자인모드 선택하지 않기
	f.design.checked=false;
}


	  
//++++++++++++++++++ num select : 규격을 선택했을때..
c1 = new Array('1,000장','2,000장','3,000장','4,000장','5,000장','6,000장','7,000장','8,000장','9,000장','10,000장');
c2 = new Array('1,000장','2,000장','3,000장','4,000장','5,000장','6,000장','7,000장','8,000장','9,000장','10,000장','20,000장','30,000장','40,000장','50,000장');
c3 = new Array('5,000장','10,000장','20,000장');

function viewCnt(){
	f=document.ordform;
	paper = f.paper.selectedIndex;
	size = f.size.selectedIndex;
	
	if(paper=="7"){		
		cObj=c3;
	}
	else if((paper=="1" || paper =="2")&& (size =="1" || size =="2")){
		cObj=c2;
	}
	else{
		cObj=c1;
	}

	f.cnt.options.length = cObj.length+1;
	f.cnt.options[0] =  new Option("▒ 수량 ▒", "notset", true, false); 
	for (var i = 1; i <= cObj.length; i++) { 
        f.cnt.options[i] = new Option(cObj[i-1]); 
    } 

	f.sizechk.value=f.size.selectedIndex;	//규격에서 선택된 인덱스값을 기억한다.
}



//+++++++가격 계산 : 코팅 여부에 따라 가격이 달라짐.
function calc(which){

	f=document.ordform;

	//용지
	paper=f.paper.value;

	//가격
	pb=f.price.value;
	pb = no_comma(String(pb));

	//합계
	t=f.total.value;
	t = no_comma(String(t));

	//규격
	size=f.size.selectedIndex;

	//코팅
	coating=f.coating.value;

	//단가
	//dan=f.dan.value;
	dan=0;


//======= 수량에 따른 가격표 : P+용지값+규격값
	p11=new Array(0,15000,24000,35000,44000,57000,62000,77000,92000,100000,108000);//사각일반_6*4
	p12=new Array(0,16000,26000,38000,47000,60000,88000,95000,100000,102000,105000);//사각일반_7*4
	p13=new Array(0,24000,44000,65000,79000,93000,101000,109000,115000,117000,119000,210000,290000,350000,440000);//사각일반_9*5.5
	p14=new Array(0,28000,47000,70000,86000,102000,110000,119000,129000,131000,134000,230000,315000,382000,480000);//사각일반_9*6
	p15=new Array(0,32000,49000,76000,93000,109000,119000,129000,136000,138000,140000,250000,342000,412000,520000 );//사각일반_9*7
	p16=new Array(0,35000,58000,81000,100000,117000,128000,139000,146000,150000,152000,270000,369000,442000,560000);//사각일반_9*8
	p17=new Array(0,37000,60000,86000,106000,125000,137000,149000,156000,160000,163000,290000,396000,478000,580000);//사각일반_9*9
	p18=new Array(0,40000,64000,92000,112000,133000,146000,159000,166000,170000,174000,310000,423000,510000,620000 );//사각일반_9*10
	p19=new Array(0,43000,68000,97000,120000,141000,155000,169000,176000,180000,185000,330000,450000,542000,660000 );//사각일반_9*11
	p110=new Array(0,45000,72000,105000,130000,149000,164000,179000,186000,192000,198000,350000,480000,590000,700000 );//사각일반_9*12
	p111=new Array(0,48000,76000,110000,140000,160000,173000,188000,196000,202000,211000,370000,510000,640000,750000 );//사각일반_9*13
	p112=new Array(0,50000,80000,115000,150000,170000,181000,198000,206000,212000,224000,390000,540000,690000,800000 );//사각일반_9*14
	p113=new Array(0,52000,84000,120000,160000,180000,189000,208000,216000,224000,240000,410000,570000,740000,850000 );//사각일반_9*15

	p21=new Array(0,17250,27600,40250,50600,65550,71300,88550,105800,115000,124200 );//사각배경_6*4
	p22=new Array(0,18400,29900,43700,54050,69000,101200,109250,115000,117300,120750 );//사각배경_7*4
	p23=new Array(0,27600,50600,74750,90850,106950,116150,125350,132250,134550,136850,241500,333500,402500,506000 );//사각배경_9*5.5
	p24=new Array(0,32200,54050,80500,98900,117300,126500,136850,148350,150650,154100,264500,362250,439300,552000 );//사각배경_9*6
	p25=new Array(0,36800,56350,87400,106950,125350,136850,148350,156400,158700,161000,287500,393300,473800,598000 );//사각배경_9*7
	p26=new Array(0,40250,66700,93150,115000,134550,147200,159850,167900,172500,174800,310500,424350,508300,644000 );//사각배경_9*8
	p27=new Array(0,42550,69000,98900,121900,143750,157550,171350,179400,184000,187450,333500,455400,549700,667000 );//사각배경_9*9
	p28=new Array(0,46000,73600,105800,128800,152950,167900,182850,190900,195500,200100,356500,486450,586500,713000 );//사각배경_9*10
	p29=new Array(0,49450,78200,111550,138000,162150,178250,194350,202400,207000,212750,379500,517500,623300,759000 );//사각배경_9*11
	p210=new Array(0,51750,82800,120750,149500,171350,188600,205850,213900,220800,227700,402500,552000,678500,805000 );//사각배경_9*12
	p211=new Array(0,55200,87400,126500,161000,184000,198950,216200,225400,232300,242650,425500,586500,736000,862500 );//사각배경_9*13
	p212=new Array(0,57500,92000,132250,172500,195500,208150,227700,236900,243800,257600,448500,621000,793500,920000 );//사각배경_9*14
	p213=new Array(0,59800,96600,13800,184000,207000,217350,239200,248400,257600,276000,471500,655500,851000,977500 );//사각배경_9*15

	p31=new Array(0,27000,48000,63000,72000,88000,105000,114000,123000,135000,147000);//원형_10
	p32=new Array(0,30000,54000,69000,88000,99000,120000,129000,144000,156000,168000);//원형_11
	p33=new Array(0,33000,57000,75000,99000,108000,135000,150000,168000,180000,195000);//원형_12
	p34=new Array(0,36000,75000,93000,114000,135000,153000,168000,186000,204000,225000);//원형_13
	p35=new Array(0,27000,48000,75000,78000,90000,111000,120000,132000,141000,153000);//원형_14
	p36=new Array(0,30000,54000,69000,81000,96000,117000,126000,138000,150000,162000);//원형_15
	p37=new Array(0,30000,57000,72000,88000,99000,120000,129000,144000,156000,168000);//원형_16
	p38=new Array(0,33000,60000,78000,96000,111000,132000,144000,159000,174000,189000);//원형_17
	p39=new Array(0,30000,54000,69000,81000,96000,117000,126000,138000,150000,162000);//원형_18
	p310=new Array(0,30000,57000,72000,84000,99000,120000,129000,144000,156000,168000);//원형_19	
	p311=new Array(0,31500,60000,75000,93000,109500,132000,144000,159000,174000,189000);//원형_20
	p312=new Array(0,36000,66000,84000,102000,120000,138000,153000,168000,183000,201000);//원형_21
	p313=new Array(0,36000,72000,90000,105000,124000,144000,159000,177000,195000,213000);//원형_22
	p314=new Array(0,27000,48000,63000,72000,84000,102000,111000,120000,132000,141000);//원형_25
	p315=new Array(0,30000,54000,69000,84000,99000,120000,129000,144000,156000,168000);//원형_28
	p316=new Array(0,27000,48000,63000,72000,84000,106000,114000,123000,135000,147000);//원형_30
	p317=new Array(0,30000,54000,78000,81000,96000,117000,126000,138000,150000,162000);//원형_33
	p318=new Array(0,30000,57000,78000,84000,99000,120000,129000,144000,156000,168000);//원형_35
	p319=new Array(0,33000,60000,78000,99000,114000,135000,150000,168000,180000,195000);//원형_38
	p320=new Array(0,36000,72000,90000,108000,126000,147000,159000,177000,195000,213000);//원형_40
	p321=new Array(0,24000,42000,54000,66000,88000,99000,105000,114000,123000,135000);//원형_43
	p322=new Array(0,25500,48000,60000,75000,87000,111000,120000,132000,141000,153000);//원형_45
	p323=new Array(0,27000,54000,69000,84000,96000,117000,126000,138000,150000,162000);//원형_48
	p324=new Array(0,28500,57000,72000,87000,99000,123000,132000,144000,156000,168000);//원형_50	
	p325=new Array(0,33000,63000,88000,111000,126000,153000,168000,186000,204000,225000);//원형_60
	p326=new Array(0,36000,66000,93000,120000,135000,159000,174000,195000,213000,234000);//원형_65

	p41=new Array(0,27000,48000,63000,72000,84000,102000,111000,120000,132000,141000);//타원형_50*20
	p42=new Array(0,30000,54000,69000,84000,99000,120000,129000,144000,156000,168000);//타원형_50*25
	p43=new Array(0,36000,66000,84000,102000,120000,138000,153000,168000,183000,201000);//타원형_50*30
	p44=new Array(0,33000,60000,78000,96000,111000,132000,144000,159000,174000,189000);//타원형_55*25
	p45=new Array(0,36000,72000,90000,105000,123000,144000,159000,177000,195000,213000);//타원형_55*30
	p46=new Array(0,36000,66000,84000,102000,120000,138000,153000,168000,183000,201000);//타원형_60*25
	p47=new Array(0,39000,75000,93000,120000,132000,165000,180000,198000,225000,240000);//타원형_60*30

	p51=new Array(0,100000,184000,201000,228000,255000,330000,393000,420000,435000,450000);//CD자켓_단면
	p52=new Array(0,148000,266000,333000,396000,435000,522000,609000,696000,783000,810000);//CD자켓_양면

	p6=new Array(0,90000,138000,206000,276000,324000,368000,424000,480000,536000,552000);	//CD도무송 가격

	p71=new Array(0,110000,180000,340000);//종이자석_70*90
	p72=new Array(0,110000,200000,380000);//종이자석_80*90
	p73=new Array(0,130000,240000,460000);//종이자석_90*90
	p74=new Array(0,140000,280000,540000);//종이자석_100*90
	p75=new Array(0,150000,300000,580000);//종이자석_110*90
	p76=new Array(0,160000,320000,620000);//종이자석_120*90
	p77=new Array(0,170000,340000,660000);//종이자석_130*90

	p81=new Array(0,45000,80000,120000,160000,180000,216000,252000,288000,324000,340000);//자석_38*55
	p82=new Array(0,51000,92000,138000,184000,210000,252000,294000,336000,378000,400000);//자석_40*60
	p83=new Array(0,61000,112000,168000,224000,260000,312000,364000,416000,468000,500000);//자석_45*65
	p84=new Array(0,93000,176000,264000,352000,420000,504000,588000,672000,756000,780000);//자석_55*80
	p85=new Array(0,115000,220000,330000,440000,500000,600000,700000,800000,900000,980000);//자석_65*90


	//선택한 옵션에 따라 가격표를 위 배열에서 가져온다.
	if (paper=="6")	{	
		obj = p6;
	} 
	else {
		obj = eval("p"+paper+size);
	}

	idx = f.cnt.selectedIndex;
	dan = obj[idx];		//선택된 가격의 단가
	
	f.price.value = number_format(String(dan));
	num= 1;		//인원수

	if (f.design.checked==true)	{
		DC = parseInt(f.design.value);
	}
	else {
		DC = 0;
	}

	f.total.value = number_format(String(dan*num+DC));		//총가격 = 단가*인원수

	f.cntchk.value= f.cnt.selectedIndex;		//수량에서 선택된 인덱스값을 기억한다.
}



//+++++++++++ 디자인 의뢰에 대한 추가 비용
function addCalc(pay){
	f = document.ordform;
	t = no_comma(String(f.total.value));

	tt = parseInt(t) + parseInt(pay);
	f.total.value=number_format(String(tt));

	if (f.design.checked)	//디자인 비용이 변경될 경우 이전 값을 빼줘야함.
	{
		tt = parseInt(t) + parseInt(pay);
		f.total.value=number_format(String(tt));
	}
	else{
		tt = parseInt(t) - parseInt(pay);
		f.total.value=number_format(String(tt));
	}
}



// 자바스크립트로 PHP의 number_format 흉내를 냄
// 숫자에 , 를 출력
function number_format(data) 
{
	
    var tmp = '';
    var number = '';
    var cutlen = 3;
    var comma = ',';
    var i;
   
    len = data.length;
    mod = (len % cutlen);
    k = cutlen - mod;
    for (i=0; i<data.length; i++) 
	{
        number = number + data.charAt(i);
		
        if (i < data.length - 1) 
		{
            k++;
            if ((k % cutlen) == 0) 
			{
                number = number + comma;
                k = 0;
			}
        }
    }

    return number;
}



// , 를 없앤다.
function no_comma(data)
{
	var tmp = '';
    var comma = ',';
    var i;

	for (i=0; i<data.length; i++)
	{
		if (data.charAt(i) != comma)
		    tmp += data.charAt(i);
	}
	return tmp;
}