# ë‘ì†ê¸°íš ì¸ì‡„ ì‹œìŠ¤í…œ ì¬êµ¬ì¶• ê°€ì´ë“œ

> **ë¬¸ì„œ ë²„ì „**: 1.0
> **ìµœì¢… ìˆ˜ì •**: 2026-01-18
> **ëŒ€ìƒ**: ê°œë°œì, ì‹œìŠ¤í…œ ê´€ë¦¬ì
> **ì˜ˆìƒ ì†Œìš” ì‹œê°„**: 14-20ì‹œê°„

---

## ëª©ì°¨

1. [ê°œìš”](#1-ê°œìš”)
2. [ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­](#2-ì‹œìŠ¤í…œ-ìš”êµ¬ì‚¬í•­)
3. [ë¬¸ì„œ ë° ì†ŒìŠ¤ ì¸ë²¤í† ë¦¬](#3-ë¬¸ì„œ-ë°-ì†ŒìŠ¤-ì¸ë²¤í† ë¦¬)
4. [Phase 1: í™˜ê²½ ì„¤ì •](#4-phase-1-í™˜ê²½-ì„¤ì •)
5. [Phase 2: ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¶•](#5-phase-2-ë°ì´í„°ë² ì´ìŠ¤-êµ¬ì¶•)
6. [Phase 3: ì½”ì–´ ì‹œìŠ¤í…œ ë°°í¬](#6-phase-3-ì½”ì–´-ì‹œìŠ¤í…œ-ë°°í¬)
7. [Phase 4: ì œí’ˆ í˜ì´ì§€ ë°°í¬](#7-phase-4-ì œí’ˆ-í˜ì´ì§€-ë°°í¬)
8. [Phase 5: ì£¼ë¬¸ ì‹œìŠ¤í…œ ë°°í¬](#8-phase-5-ì£¼ë¬¸-ì‹œìŠ¤í…œ-ë°°í¬)
9. [Phase 6: ê´€ë¦¬ì ì‹œìŠ¤í…œ ë°°í¬](#9-phase-6-ê´€ë¦¬ì-ì‹œìŠ¤í…œ-ë°°í¬)
10. [Phase 7: í…ŒìŠ¤íŠ¸ ë° ê²€ì¦](#10-phase-7-í…ŒìŠ¤íŠ¸-ë°-ê²€ì¦)
11. [Phase 8: í”„ë¡œë•ì…˜ ë°°í¬](#11-phase-8-í”„ë¡œë•ì…˜-ë°°í¬)
12. [íŠ¸ëŸ¬ë¸”ìŠˆíŒ…](#12-íŠ¸ëŸ¬ë¸”ìŠˆíŒ…)
13. [ë¶€ë¡](#13-ë¶€ë¡)

---

## 1. ê°œìš”

### 1.1 ì‹œìŠ¤í…œ ì†Œê°œ

ë‘ì†ê¸°íš ì¸ì‡„ ì‹œìŠ¤í…œì€ PHP 7.4 ê¸°ë°˜ì˜ B2B ì¸ì‡„ ì£¼ë¬¸ ê´€ë¦¬ ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

**í•µì‹¬ ê¸°ëŠ¥**:
- 9ê°œ ì¸ì‡„ ì œí’ˆ ì£¼ë¬¸ (ì „ë‹¨ì§€, ìŠ¤í‹°ì»¤, ëª…í•¨, ë´‰íˆ¬ ë“±)
- ì‹¤ì‹œê°„ ê°€ê²© ê³„ì‚°
- íŒŒì¼ ì—…ë¡œë“œ ë° êµì •
- ì£¼ë¬¸ ê´€ë¦¬ ë° ë°°ì†¡ ì¶”ì 
- ê²¬ì ì„œ ìƒì„± ë° ë°œì†¡

### 1.2 ì•„í‚¤í…ì²˜ ê°œìš”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        í´ë¼ì´ì–¸íŠ¸                            â”‚
â”‚                   (ì›¹ ë¸Œë¼ìš°ì €/ëª¨ë°”ì¼)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Apache 2.4+ / PHP 7.4+                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  ì œí’ˆ í˜ì´ì§€  â”‚  â”‚  ì£¼ë¬¸ ì²˜ë¦¬   â”‚  â”‚  ê´€ë¦¬ì íŒ¨ë„  â”‚      â”‚
â”‚  â”‚ /mlangprint  â”‚  â”‚ /mlangorder  â”‚  â”‚ /mlang_admin â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                              â”‚                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚              SSOT ì½”ì–´ (/includes/)              â”‚      â”‚
â”‚  â”‚  QuantityFormatter â”‚ ProductSpecFormatter â”‚ ...  â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    MySQL 5.7+ (utf8mb4)                     â”‚
â”‚                      28ê°œ í…Œì´ë¸”                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.3 ì¬êµ¬ì¶• ë‚œì´ë„

| í•­ëª© | ë‚œì´ë„ | ë¹„ê³  |
|------|--------|------|
| í™˜ê²½ ì„¤ì • | â­ ì‰¬ì›€ | í‘œì¤€ LAMP ìŠ¤íƒ |
| DB êµ¬ì¶• | â­ ì‰¬ì›€ | ìŠ¤í‚¤ë§ˆ íŒŒì¼ ì™„ë¹„ |
| ì½”ì–´ ì‹œìŠ¤í…œ | â­â­ ë³´í†µ | SSOT í´ë˜ìŠ¤ ë³µì‚¬ |
| ì œí’ˆ í˜ì´ì§€ | â­â­ ë³´í†µ | 9ê°œ ì œí’ˆ ë™ì¼ êµ¬ì¡° |
| ì£¼ë¬¸ ì‹œìŠ¤í…œ | â­â­ ë³´í†µ | í†µí•© ì²˜ë¦¬ ë¡œì§ |
| ê´€ë¦¬ì | â­â­ ë³´í†µ | ì¸ì¦ ì‹œìŠ¤í…œ í¬í•¨ |
| í…ŒìŠ¤íŠ¸ | â­â­â­ ì–´ë ¤ì›€ | E2E í…ŒìŠ¤íŠ¸ í•„ìš” |

---

## 2. ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­

### 2.1 ì„œë²„ ìš”êµ¬ì‚¬í•­

| êµ¬ì„±ìš”ì†Œ | ìµœì†Œ ë²„ì „ | ê¶Œì¥ ë²„ì „ | ë¹„ê³  |
|----------|-----------|-----------|------|
| OS | Ubuntu 20.04 | Ubuntu 22.04 | ë˜ëŠ” CentOS 7+ |
| Apache | 2.4 | 2.4.54+ | mod_rewrite í•„ìˆ˜ |
| PHP | 7.4 | 8.1 | í™•ì¥ ëª¨ë“ˆ ì°¸ì¡° |
| MySQL | 5.7 | 8.0 | utf8mb4 í•„ìˆ˜ |
| Node.js | 14 | 18+ | í…ŒìŠ¤íŠ¸ìš© |

### 2.2 PHP í™•ì¥ ëª¨ë“ˆ

```bash
# í•„ìˆ˜ ëª¨ë“ˆ
php-mysql      # MySQL ì—°ê²°
php-gd         # ì´ë¯¸ì§€ ì²˜ë¦¬
php-mbstring   # ë‹¤êµ­ì–´ ë¬¸ìì—´
php-xml        # XML ì²˜ë¦¬
php-curl       # HTTP í´ë¼ì´ì–¸íŠ¸
php-zip        # ì••ì¶• íŒŒì¼

# ì„¤ì¹˜ ëª…ë ¹ (Ubuntu)
sudo apt install php7.4-mysql php7.4-gd php7.4-mbstring \
                 php7.4-xml php7.4-curl php7.4-zip
```

### 2.3 ë””ìŠ¤í¬ ìš”êµ¬ì‚¬í•­

| í•­ëª© | í¬ê¸° | ë¹„ê³  |
|------|------|------|
| ì†ŒìŠ¤ ì½”ë“œ | ~50MB | PHP, JS, CSS |
| Composer íŒ¨í‚¤ì§€ | ~200MB | vendor/ |
| ì—…ë¡œë“œ ê³µê°„ | 10GB+ | ê³ ê° íŒŒì¼ |
| DB ê³µê°„ | 1GB+ | ì£¼ë¬¸ ë°ì´í„° |
| **ì´ê³„** | **ìµœì†Œ 15GB** | ì—¬ìœ  í¬í•¨ |

### 2.4 ë„¤íŠ¸ì›Œí¬ ìš”êµ¬ì‚¬í•­

| í¬íŠ¸ | ìš©ë„ | í•„ìˆ˜ |
|------|------|------|
| 80 | HTTP | âœ… |
| 443 | HTTPS | âœ… (í”„ë¡œë•ì…˜) |
| 3306 | MySQL | ë‚´ë¶€ë§Œ |
| 21 | FTP | ì„ íƒ (ë°°í¬ìš©) |

---

## 3. ë¬¸ì„œ ë° ì†ŒìŠ¤ ì¸ë²¤í† ë¦¬

### 3.1 í•µì‹¬ ë¬¸ì„œ ëª©ë¡

ì¬êµ¬ì¶• ì‹œ ë°˜ë“œì‹œ ì°¸ì¡°í•´ì•¼ í•  ë¬¸ì„œë“¤ì…ë‹ˆë‹¤.

| ë¬¸ì„œ | ê²½ë¡œ | ìš©ë„ | ì¤‘ìš”ë„ |
|------|------|------|--------|
| í”„ë¡œì íŠ¸ ê·œì¹™ | `/CLAUDE.md` | ì½”ë”© ê·œì¹™, í’ˆëª© ë§¤í•‘ | ğŸ”´ í•„ìˆ˜ |
| ë§ˆìŠ¤í„° ëª…ì„¸ì„œ | `/CLAUDE_DOCS/Duson_System_Master_Spec_v1.0.md` | ì‹œìŠ¤í…œ ì „ì²´ ì„¤ê³„ | ğŸ”´ í•„ìˆ˜ |
| DB ìŠ¤í‚¤ë§ˆ | `/CLAUDE_DOCS/DB_SCHEMA.md` | í…Œì´ë¸” ì •ì˜ 28ê°œ | ğŸ”´ í•„ìˆ˜ |
| API ëª…ì„¸ì„œ | `/CLAUDE_DOCS/API_SPEC.md` | API ì—”ë“œí¬ì¸íŠ¸ | ğŸŸ¡ ì°¸ì¡° |
| ë°ì´í„° íë¦„ | `/CLAUDE_DOCS/DATA_LINEAGE.md` | ë°ì´í„° í”Œë¡œìš° | ğŸŸ¡ ì°¸ì¡° |
| í´ë” êµ¬ì¡° | `/CLAUDE_DOCS/DIRECTORY_STRUCTURE.md` | ë””ë ‰í† ë¦¬ ì„¤ëª… | ğŸŸ¡ ì°¸ì¡° |
| ì»´í¬ë„ŒíŠ¸ ì°¸ì¡° | `/CLAUDE_DOCS/COMPONENT_REFERENCE.md` | í´ë˜ìŠ¤ ì‚¬ìš©ë²• | ğŸŸ¡ ì°¸ì¡° |
| ì„¤ì¹˜ ê°€ì´ë“œ | `/install/INSTALLATION_GUIDE.md` | ì„¤ì¹˜ ì ˆì°¨ | ğŸŸ¢ ì„ íƒ |

### 3.2 ì†ŒìŠ¤ ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
/var/www/html/                      # Document Root
â”‚
â”œâ”€â”€ ğŸ“„ í•µì‹¬ ì„¤ì • íŒŒì¼
â”‚   â”œâ”€â”€ db.php                      # DB ì—°ê²° & í™˜ê²½ ê°ì§€
â”‚   â”œâ”€â”€ config.env.php              # í™˜ê²½ ì„¤ì •
â”‚   â”œâ”€â”€ composer.json               # PHP ì˜ì¡´ì„±
â”‚   â”œâ”€â”€ package.json                # Node ì˜ì¡´ì„±
â”‚   â””â”€â”€ .htaccess                   # URL ì¬ì‘ì„±
â”‚
â”œâ”€â”€ ğŸ“„ ë©”ì¸ í˜ì´ì§€
â”‚   â”œâ”€â”€ index.php                   # ë©”ì¸ ì§„ì…ì 
â”‚   â”œâ”€â”€ main.php                    # ë©”ì¸ ë ˆì´ì•„ì›ƒ
â”‚   â”œâ”€â”€ header.php                  # ê³µí†µ í—¤ë”
â”‚   â”œâ”€â”€ footer.php                  # ê³µí†µ í‘¸í„°
â”‚   â”œâ”€â”€ left.php                    # ì™¼ìª½ ì‚¬ì´ë“œë°”
â”‚   â””â”€â”€ right.php                   # ì˜¤ë¥¸ìª½ ì‚¬ì´ë“œë°”
â”‚
â”œâ”€â”€ ğŸ“ includes/                    # SSOT ì½”ì–´ (28ê°œ íŒŒì¼)
â”‚   â”œâ”€â”€ QuantityFormatter.php       # ìˆ˜ëŸ‰ í¬ë§·íŒ… â­
â”‚   â”œâ”€â”€ ProductSpecFormatter.php    # ì‚¬ì–‘ í‘œì‹œ â­
â”‚   â”œâ”€â”€ PriceCalculationService.php # ê°€ê²© ê³„ì‚° â­
â”‚   â”œâ”€â”€ DataAdapter.php             # ë°ì´í„° ë³€í™˜
â”‚   â”œâ”€â”€ SpecDisplayService.php      # ì‚¬ì–‘ ì¡°íšŒ
â”‚   â”œâ”€â”€ OrderDataService.php        # ì£¼ë¬¸ ë°ì´í„°
â”‚   â”œâ”€â”€ UploadPathHelper.php        # ì—…ë¡œë“œ ê²½ë¡œ
â”‚   â”œâ”€â”€ ImagePathResolver.php       # ì´ë¯¸ì§€ ê²½ë¡œ
â”‚   â”œâ”€â”€ StandardUploadHandler.php   # íŒŒì¼ ì—…ë¡œë“œ
â”‚   â”œâ”€â”€ auth.php                    # ì¸ì¦
â”‚   â””â”€â”€ ... (18ê°œ ì¶”ê°€ íŒŒì¼)
â”‚
â”œâ”€â”€ ğŸ“ lib/
â”‚   â””â”€â”€ core_print_logic.php        # ì½”ì–´ ë¡œì§ íŒŒì‚¬ë“œ
â”‚
â”œâ”€â”€ ğŸ“ mlangprintauto/              # ì œí’ˆ í˜ì´ì§€ (9ê°œ ì œí’ˆ)
â”‚   â”œâ”€â”€ inserted/                   # ì „ë‹¨ì§€
â”‚   â”œâ”€â”€ sticker_new/                # ìŠ¤í‹°ì»¤
â”‚   â”œâ”€â”€ namecard/                   # ëª…í•¨
â”‚   â”œâ”€â”€ envelope/                   # ë´‰íˆ¬
â”‚   â”œâ”€â”€ littleprint/                # í¬ìŠ¤í„°
â”‚   â”œâ”€â”€ cadarok/                    # ì¹´ë‹¤ë¡
â”‚   â”œâ”€â”€ ncrflambeau/                # NCRì–‘ì‹ì§€
â”‚   â”œâ”€â”€ merchandisebond/            # ìƒí’ˆê¶Œ
â”‚   â”œâ”€â”€ msticker/                   # ìì„ìŠ¤í‹°ì»¤
â”‚   â”œâ”€â”€ cart.php                    # ì¥ë°”êµ¬ë‹ˆ
â”‚   â””â”€â”€ shop/                       # shop_temp ì²˜ë¦¬
â”‚
â”œâ”€â”€ ğŸ“ mlangorder_printauto/        # ì£¼ë¬¸ ì²˜ë¦¬
â”‚   â”œâ”€â”€ ProcessOrder_unified.php    # ì£¼ë¬¸ ì²˜ë¦¬ í†µí•©
â”‚   â”œâ”€â”€ OrderFormOrderTree.php      # ì£¼ë¬¸ì„œ í¼
â”‚   â””â”€â”€ OrderComplete_universal.php # ì£¼ë¬¸ ì™„ë£Œ
â”‚
â”œâ”€â”€ ğŸ“ mlang_admin/                 # ê´€ë¦¬ì í˜ì´ì§€
â”‚   â”œâ”€â”€ index.php                   # ëŒ€ì‹œë³´ë“œ
â”‚   â”œâ”€â”€ login.php                   # ë¡œê·¸ì¸
â”‚   â”œâ”€â”€ order_list.php              # ì£¼ë¬¸ ëª©ë¡
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ ğŸ“ admin/                       # ê´€ë¦¬ì ì¸ì¦
â”‚   â””â”€â”€ includes/
â”‚       â””â”€â”€ admin_auth.php          # ì¸ì¦ ë¯¸ë“¤ì›¨ì–´
â”‚
â”œâ”€â”€ ğŸ“ css/                         # ì „ì—­ ìŠ¤íƒ€ì¼ì‹œíŠ¸
â”œâ”€â”€ ğŸ“ js/                          # ì „ì—­ ìë°”ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ ğŸ“ images/                      # ì •ì  ì´ë¯¸ì§€
â”œâ”€â”€ ğŸ“ upload/                      # ì—…ë¡œë“œ íŒŒì¼
â”‚
â”œâ”€â”€ ğŸ“ install/                     # ì„¤ì¹˜ ê´€ë ¨
â”‚   â”œâ”€â”€ sql/schema.sql              # DB ìŠ¤í‚¤ë§ˆ
â”‚   â””â”€â”€ INSTALLATION_GUIDE.md       # ì„¤ì¹˜ ê°€ì´ë“œ
â”‚
â”œâ”€â”€ ğŸ“ database/migrations/         # DB ë§ˆì´ê·¸ë ˆì´ì…˜
â”‚   â”œâ”€â”€ grand_design/
â”‚   â””â”€â”€ phase_a_custom_products/
â”‚
â”œâ”€â”€ ğŸ“ tests/                       # í…ŒìŠ¤íŠ¸
â”‚   â”œâ”€â”€ page-loading.group-a.spec.ts
â”‚   â”œâ”€â”€ basic-price.group-b.spec.ts
â”‚   â””â”€â”€ ...
â”‚
â””â”€â”€ ğŸ“ CLAUDE_DOCS/                 # ê¸°ìˆ  ë¬¸ì„œ
    â”œâ”€â”€ Duson_System_Master_Spec_v1.0.md
    â”œâ”€â”€ DB_SCHEMA.md
    â”œâ”€â”€ API_SPEC.md
    â””â”€â”€ ...
```

### 3.3 9ê°œ ì œí’ˆ ë§¤í•‘ (ì ˆëŒ€ ê·œì¹™)

> âš ï¸ **ê²½ê³ **: ì•„ë˜ í´ë”ëª…ì€ ì ˆëŒ€ ë³€ê²½ ê¸ˆì§€. ì½”ë“œ ì „ì²´ì— í•˜ë“œì½”ë”©ë¨.

| # | ì œí’ˆëª… (í•œê¸€) | í´ë”ëª… | DB í…Œì´ë¸” | ë‹¨ìœ„ |
|---|--------------|--------|-----------|------|
| 1 | ì „ë‹¨ì§€ | `inserted` | mlangprintauto_inserted | ì—° (R) |
| 2 | ìŠ¤í‹°ì»¤ | `sticker_new` | mlangprintauto_sticker | ë§¤ (S) |
| 3 | ìì„ìŠ¤í‹°ì»¤ | `msticker` | mlangprintauto_msticker | ë§¤ (S) |
| 4 | ëª…í•¨ | `namecard` | mlangprintauto_namecard | ë§¤ (S) |
| 5 | ë´‰íˆ¬ | `envelope` | mlangprintauto_envelope | ë§¤ (S) |
| 6 | í¬ìŠ¤í„° | `littleprint` | mlangprintauto_littleprint | ë§¤ (S) |
| 7 | ìƒí’ˆê¶Œ | `merchandisebond` | mlangprintauto_merchandisebond | ë§¤ (S) |
| 8 | ì¹´ë‹¤ë¡ | `cadarok` | mlangprintauto_cadarok | ë¶€ (B) |
| 9 | NCRì–‘ì‹ì§€ | `ncrflambeau` | mlangprintauto_ncrflambeau | ê¶Œ (V) |

### 3.4 ë‹¨ìœ„ ì½”ë“œ ì²´ê³„

| ì½”ë“œ | ë‹¨ìœ„ëª… | ì ìš© ì œí’ˆ | í‘œì‹œ ì˜ˆì‹œ |
|------|--------|-----------|-----------|
| R | ì—° (Ream) | inserted | "0.5ì—° (2,000ë§¤)" |
| S | ë§¤ (Sheet) | sticker_new, namecard ë“± | "1,000ë§¤" |
| B | ë¶€ (Bundle) | cadarok | "10ë¶€" |
| V | ê¶Œ (Volume) | ncrflambeau | "5ê¶Œ" |

---

## 4. Phase 1: í™˜ê²½ ì„¤ì •

**ì˜ˆìƒ ì†Œìš”: 1ì‹œê°„**

### 4.1 ì„œë²„ ì„¤ì¹˜ (Ubuntu)

```bash
# 1. ì‹œìŠ¤í…œ ì—…ë°ì´íŠ¸
sudo apt update && sudo apt upgrade -y

# 2. Apache ì„¤ì¹˜
sudo apt install apache2 -y
sudo systemctl enable apache2
sudo systemctl start apache2

# 3. PHP 7.4 ì„¤ì¹˜
sudo apt install software-properties-common -y
sudo add-apt-repository ppa:ondrej/php -y
sudo apt update
sudo apt install php7.4 php7.4-mysql php7.4-gd php7.4-mbstring \
                 php7.4-xml php7.4-curl php7.4-zip libapache2-mod-php7.4 -y

# 4. MySQL ì„¤ì¹˜
sudo apt install mysql-server -y
sudo mysql_secure_installation

# 5. Apache ëª¨ë“ˆ í™œì„±í™”
sudo a2enmod rewrite
sudo systemctl restart apache2
```

### 4.2 ê°€ìƒ í˜¸ìŠ¤íŠ¸ ì„¤ì •

```bash
# /etc/apache2/sites-available/duson.conf
sudo nano /etc/apache2/sites-available/duson.conf
```

```apache
<VirtualHost *:80>
    ServerName localhost
    DocumentRoot /var/www/html

    <Directory /var/www/html>
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>

    ErrorLog ${APACHE_LOG_DIR}/duson_error.log
    CustomLog ${APACHE_LOG_DIR}/duson_access.log combined
</VirtualHost>
```

```bash
# ì‚¬ì´íŠ¸ í™œì„±í™”
sudo a2ensite duson.conf
sudo systemctl reload apache2
```

### 4.3 ë””ë ‰í† ë¦¬ ê¶Œí•œ ì„¤ì •

```bash
# Document Root ì†Œìœ ê¶Œ
sudo chown -R www-data:www-data /var/www/html

# ê¸°ë³¸ ê¶Œí•œ
sudo find /var/www/html -type d -exec chmod 755 {} \;
sudo find /var/www/html -type f -exec chmod 644 {} \;

# ì—…ë¡œë“œ ë””ë ‰í† ë¦¬ ì“°ê¸° ê¶Œí•œ
sudo chmod -R 775 /var/www/html/upload
sudo chmod -R 775 /var/www/html/ImgFolder
```

### 4.4 PHP ì„¤ì • ì¡°ì •

```bash
# php.ini ìˆ˜ì •
sudo nano /etc/php/7.4/apache2/php.ini
```

```ini
; ì—…ë¡œë“œ í¬ê¸° ì¦ê°€
upload_max_filesize = 50M
post_max_size = 50M

; ë©”ëª¨ë¦¬ ë° ì‹¤í–‰ ì‹œê°„
memory_limit = 256M
max_execution_time = 300

; í•œê¸€ ì²˜ë¦¬
default_charset = "UTF-8"

; ì„¸ì…˜ ì„¤ì •
session.gc_maxlifetime = 28800
```

```bash
sudo systemctl restart apache2
```

### 4.5 ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸

```bash
# Apache ìƒíƒœ í™•ì¸
sudo systemctl status apache2

# PHP ë²„ì „ í™•ì¸
php -v

# MySQL ìƒíƒœ í™•ì¸
sudo systemctl status mysql

# PHP ëª¨ë“ˆ í™•ì¸
php -m | grep -E "(mysql|gd|mbstring|xml|curl|zip)"
```

âœ… **Phase 1 ì™„ë£Œ ê¸°ì¤€**:
- `http://localhost/` ì ‘ì† ì‹œ Apache ê¸°ë³¸ í˜ì´ì§€ í‘œì‹œ
- `php -v` ì¶œë ¥ì—ì„œ 7.4+ ë²„ì „ í™•ì¸
- MySQL ì ‘ì† ê°€ëŠ¥

---

## 5. Phase 2: ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¶•

**ì˜ˆìƒ ì†Œìš”: 30ë¶„**

### 5.1 ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±

```bash
# MySQL ì ‘ì†
sudo mysql -u root -p
```

```sql
-- ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±
CREATE DATABASE dsp1830 CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- ì‚¬ìš©ì ìƒì„± ë° ê¶Œí•œ ë¶€ì—¬
CREATE USER 'dsp1830'@'localhost' IDENTIFIED BY 'ds701018';
GRANT ALL PRIVILEGES ON dsp1830.* TO 'dsp1830'@'localhost';
FLUSH PRIVILEGES;

-- í™•ì¸
SHOW DATABASES;
EXIT;
```

### 5.2 ìŠ¤í‚¤ë§ˆ ì ìš©

```bash
# ë©”ì¸ ìŠ¤í‚¤ë§ˆ ì ìš©
mysql -u dsp1830 -p dsp1830 < /var/www/html/install/sql/schema.sql

# ë§ˆì´ê·¸ë ˆì´ì…˜ ì ìš© (ìˆœì„œëŒ€ë¡œ)
mysql -u dsp1830 -p dsp1830 < /var/www/html/database/migrations/grand_design/01_schema.sql
mysql -u dsp1830 -p dsp1830 < /var/www/html/database/migrations/phase_a_custom_products/02_alter_*.sql
```

### 5.3 í…Œì´ë¸” í™•ì¸

```bash
mysql -u dsp1830 -p dsp1830 -e "SHOW TABLES;"
```

**ì˜ˆìƒ í…Œì´ë¸” ëª©ë¡ (28ê°œ)**:

| ì¹´í…Œê³ ë¦¬ | í…Œì´ë¸”ëª… |
|----------|----------|
| ì£¼ë¬¸ | `mlangorder_printauto`, `shop_temp` |
| ê°€ê²© | `mlangprintauto_inserted`, `mlangprintauto_sticker`, `mlangprintauto_namecard`, `mlangprintauto_envelope`, `mlangprintauto_littleprint`, `mlangprintauto_cadarok`, `mlangprintauto_ncrflambeau`, `mlangprintauto_merchandisebond`, `mlangprintauto_msticker` |
| ì¹´í…Œê³ ë¦¬ | `mlangprintauto_transactioncate` |
| ì‚¬ìš©ì | `member_user`, `admin_users` |
| ê²¬ì  | `quotations`, `quotation_items` |
| ì˜µì…˜ | `additional_options_config`, `mlangprintauto_leaflet_fold` |
| ê¸°íƒ€ | (ì‹œìŠ¤í…œ í…Œì´ë¸”ë“¤) |

### 5.4 ì´ˆê¸° ë°ì´í„° ì‚½ì…

```sql
-- ê´€ë¦¬ì ê³„ì • ìƒì„±
INSERT INTO admin_users (username, password_hash, created_at)
VALUES ('admin', '$2y$10$...', NOW());

-- ì¹´í…Œê³ ë¦¬ ê¸°ë³¸ ë°ì´í„° (í•„ìš”ì‹œ)
-- ê°€ê²© í…Œì´ë¸” ë°ì´í„° (ë³„ë„ SQL íŒŒì¼ì—ì„œ import)
```

### 5.5 ê²€ì¦

```bash
# í…Œì´ë¸” ìˆ˜ í™•ì¸
mysql -u dsp1830 -p dsp1830 -e "SELECT COUNT(*) FROM information_schema.tables WHERE table_schema = 'dsp1830';"

# ì£¼ìš” í…Œì´ë¸” êµ¬ì¡° í™•ì¸
mysql -u dsp1830 -p dsp1830 -e "DESCRIBE mlangorder_printauto;"
```

âœ… **Phase 2 ì™„ë£Œ ê¸°ì¤€**:
- 28ê°œ í…Œì´ë¸” ìƒì„± í™•ì¸
- `dsp1830` ì‚¬ìš©ìë¡œ ì ‘ì† ê°€ëŠ¥

---

## 6. Phase 3: ì½”ì–´ ì‹œìŠ¤í…œ ë°°í¬

**ì˜ˆìƒ ì†Œìš”: 2ì‹œê°„**

### 6.1 ì„¤ì • íŒŒì¼ ë°°í¬

#### db.php (DB ì—°ê²°)

```php
<?php
/**
 * ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì„¤ì •
 * í™˜ê²½ ìë™ ê°ì§€: localhost / dsp1830.shop
 */

// í™˜ê²½ ê°ì§€
$server_name = $_SERVER['SERVER_NAME'] ?? 'localhost';

if (strpos($server_name, 'localhost') !== false) {
    // ë¡œì»¬ ê°œë°œ í™˜ê²½
    $db_host = 'localhost';
    $db_user = 'dsp1830';
    $db_pass = 'ds701018';
    $db_name = 'dsp1830';
    $admin_url = 'http://localhost';
} else {
    // í”„ë¡œë•ì…˜ í™˜ê²½
    $db_host = 'localhost';
    $db_user = 'dsp1830';
    $db_pass = 'ds701018';
    $db_name = 'dsp1830';
    $admin_url = 'http://' . $server_name;
}

// MySQLi ì—°ê²°
$db = mysqli_connect($db_host, $db_user, $db_pass, $db_name);

if (!$db) {
    die('Database connection failed: ' . mysqli_connect_error());
}

// UTF-8 ì„¤ì •
mysqli_set_charset($db, 'utf8mb4');

// ë ˆê±°ì‹œ í˜¸í™˜ (ì¼ë¶€ íŒŒì¼ì—ì„œ $conn ì‚¬ìš©)
$conn = $db;
```

#### config.env.php (í™˜ê²½ ì„¤ì •)

```php
<?php
/**
 * í™˜ê²½ ì„¤ì • íŒŒì¼
 */

// íƒ€ì„ì¡´
date_default_timezone_set('Asia/Seoul');

// ì—ëŸ¬ ë¦¬í¬íŒ… (ê°œë°œ í™˜ê²½)
if ($_SERVER['SERVER_NAME'] === 'localhost') {
    error_reporting(E_ALL);
    ini_set('display_errors', 1);
} else {
    error_reporting(0);
    ini_set('display_errors', 0);
}

// ì„¸ì…˜ ì„¤ì •
ini_set('session.gc_maxlifetime', 28800);

// ì—…ë¡œë“œ ê²½ë¡œ
define('UPLOAD_BASE_PATH', '/var/www/html/upload');
define('MAX_UPLOAD_SIZE', 50 * 1024 * 1024); // 50MB
```

### 6.2 SSOT ì½”ì–´ íŒŒì¼ ë°°í¬

`/includes/` ë””ë ‰í† ë¦¬ì˜ 28ê°œ íŒŒì¼ì„ ë³µì‚¬í•©ë‹ˆë‹¤.

**í•„ìˆ˜ íŒŒì¼ (ìš°ì„ ìˆœìœ„ ìˆœ)**:

```bash
# 1. í•µì‹¬ SSOT í´ë˜ìŠ¤
/includes/QuantityFormatter.php       # ìˆ˜ëŸ‰ í¬ë§·íŒ…
/includes/ProductSpecFormatter.php    # ì‚¬ì–‘ í‘œì‹œ
/includes/PriceCalculationService.php # ê°€ê²© ê³„ì‚°
/includes/DataAdapter.php             # ë°ì´í„° ë³€í™˜
/includes/SpecDisplayService.php      # ì‚¬ì–‘ ì¡°íšŒ

# 2. ì„œë¹„ìŠ¤ í´ë˜ìŠ¤
/includes/OrderDataService.php        # ì£¼ë¬¸ ë°ì´í„°
/includes/UploadPathHelper.php        # ì—…ë¡œë“œ ê²½ë¡œ
/includes/ImagePathResolver.php       # ì´ë¯¸ì§€ ê²½ë¡œ
/includes/StandardUploadHandler.php   # íŒŒì¼ ì—…ë¡œë“œ

# 3. ì¸ì¦
/includes/auth.php                    # ì¸ì¦ í•¨ìˆ˜
/includes/auth_functions.php          # ì¸ì¦ í—¬í¼

# 4. ê¸°íƒ€ ìœ í‹¸ë¦¬í‹°
/includes/GalleryImageComponent.php
/includes/AdditionalOptionsComponent.php
/includes/EmailService.php
/includes/ExcelExport.php
# ... (ë‚˜ë¨¸ì§€ íŒŒì¼ë“¤)
```

### 6.3 ë¼ì´ë¸ŒëŸ¬ë¦¬ íŒŒì¼ ë°°í¬

```bash
# ì½”ì–´ ë¡œì§ íŒŒì‚¬ë“œ
/lib/core_print_logic.php
```

### 6.4 Composer ì˜ì¡´ì„± ì„¤ì¹˜

```bash
cd /var/www/html

# composer.json í™•ì¸
cat composer.json

# ì˜ì¡´ì„± ì„¤ì¹˜
composer install --no-dev --optimize-autoloader
```

**composer.json ë‚´ìš©**:

```json
{
    "require": {
        "tecnickcom/tcpdf": "^6.10",
        "dompdf/dompdf": "^3.1",
        "mpdf/mpdf": "^8.2",
        "phpmailer/phpmailer": "^7.0"
    }
}
```

### 6.5 ê²€ì¦

```php
<?php
// /test_core.php (í…ŒìŠ¤íŠ¸ í›„ ì‚­ì œ)
require_once 'db.php';
require_once 'includes/QuantityFormatter.php';

// DB ì—°ê²° í…ŒìŠ¤íŠ¸
echo "DB ì—°ê²°: " . ($db ? "ì„±ê³µ" : "ì‹¤íŒ¨") . "\n";

// QuantityFormatter í…ŒìŠ¤íŠ¸
$result = QuantityFormatter::format(0.5, 'R', 2000);
echo "QuantityFormatter: " . $result . "\n";
// ì˜ˆìƒ ì¶œë ¥: "0.5ì—° (2,000ë§¤)"
```

âœ… **Phase 3 ì™„ë£Œ ê¸°ì¤€**:
- `db.php` ë¡œë“œ ì‹œ DB ì—°ê²° ì„±ê³µ
- `QuantityFormatter::format()` ì •ìƒ ì‘ë™
- `vendor/` ë””ë ‰í† ë¦¬ì— íŒ¨í‚¤ì§€ ì„¤ì¹˜ ì™„ë£Œ

---

## 7. Phase 4: ì œí’ˆ í˜ì´ì§€ ë°°í¬

**ì˜ˆìƒ ì†Œìš”: 3ì‹œê°„**

### 7.1 ì œí’ˆ ë””ë ‰í† ë¦¬ êµ¬ì¡°

ê° ì œí’ˆì€ ë™ì¼í•œ êµ¬ì¡°ë¥¼ ë”°ë¦…ë‹ˆë‹¤:

```
/mlangprintauto/[product_name]/
â”œâ”€â”€ index.php                 # ì œí’ˆ í˜ì´ì§€ (ë©”ì¸)
â”œâ”€â”€ calculate_price_ajax.php  # ê°€ê²© ê³„ì‚° API
â”œâ”€â”€ add_to_basket.php         # ì¥ë°”êµ¬ë‹ˆ ì¶”ê°€ API
â”œâ”€â”€ inc.php                   # ì œí’ˆ ì„¤ì •
â”œâ”€â”€ upload/                   # ì—…ë¡œë“œ í´ë”
â”œâ”€â”€ css/                      # ì œí’ˆë³„ CSS
â”‚   â””â”€â”€ style.css
â”œâ”€â”€ js/                       # ì œí’ˆë³„ JS
â”‚   â””â”€â”€ script.js
â””â”€â”€ config/                   # ì„¤ì • íŒŒì¼
```

### 7.2 ì œí’ˆë³„ ë°°í¬ ì²´í¬ë¦¬ìŠ¤íŠ¸

| ì œí’ˆ | í´ë” | index.php | price API | basket API | í™•ì¸ |
|------|------|-----------|-----------|------------|------|
| ì „ë‹¨ì§€ | inserted | â˜ | â˜ | â˜ | â˜ |
| ìŠ¤í‹°ì»¤ | sticker_new | â˜ | â˜ | â˜ | â˜ |
| ëª…í•¨ | namecard | â˜ | â˜ | â˜ | â˜ |
| ë´‰íˆ¬ | envelope | â˜ | â˜ | â˜ | â˜ |
| í¬ìŠ¤í„° | littleprint | â˜ | â˜ | â˜ | â˜ |
| ì¹´ë‹¤ë¡ | cadarok | â˜ | â˜ | â˜ | â˜ |
| NCRì–‘ì‹ì§€ | ncrflambeau | â˜ | â˜ | â˜ | â˜ |
| ìƒí’ˆê¶Œ | merchandisebond | â˜ | â˜ | â˜ | â˜ |
| ìì„ìŠ¤í‹°ì»¤ | msticker | â˜ | â˜ | â˜ | â˜ |

### 7.3 ì¥ë°”êµ¬ë‹ˆ ë°°í¬

```bash
/mlangprintauto/cart.php          # ì¥ë°”êµ¬ë‹ˆ í˜ì´ì§€
/mlangprintauto/shop/
â”œâ”€â”€ shop_temp_helper.php          # shop_temp ì²˜ë¦¬
â””â”€â”€ update_cart.php               # ì¥ë°”êµ¬ë‹ˆ ì—…ë°ì´íŠ¸
```

### 7.4 ê°€ê²© ê³„ì‚° API ê²€ì¦

```bash
# ì „ë‹¨ì§€ ê°€ê²© ê³„ì‚° í…ŒìŠ¤íŠ¸
curl -X POST "http://localhost/mlangprintauto/inserted/calculate_price_ajax.php" \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -d "papersize=A4&quantity=0.5&sides=2&paper=ì•„íŠ¸ì§€"

# ì˜ˆìƒ ì‘ë‹µ
# {"success":true,"price":12000,"price_formatted":"12,000ì›"}
```

### 7.5 ì „ì—­ CSS/JS ë°°í¬

```bash
/css/
â”œâ”€â”€ common-styles.css        # ê³µí†µ ìŠ¤íƒ€ì¼
â”œâ”€â”€ cart.css                 # ì¥ë°”êµ¬ë‹ˆ
â”œâ”€â”€ product-page.css         # ì œí’ˆ í˜ì´ì§€
â””â”€â”€ responsive.css           # ë°˜ì‘í˜•

/js/
â”œâ”€â”€ common.js                # ê³µí†µ í•¨ìˆ˜
â”œâ”€â”€ cart.js                  # ì¥ë°”êµ¬ë‹ˆ
â””â”€â”€ price-calculator.js      # ê°€ê²© ê³„ì‚°
```

âœ… **Phase 4 ì™„ë£Œ ê¸°ì¤€**:
- 9ê°œ ì œí’ˆ í˜ì´ì§€ ëª¨ë‘ ì ‘ì† ê°€ëŠ¥
- ê°€ê²© ê³„ì‚° API ì •ìƒ ì‘ë‹µ
- ì¥ë°”êµ¬ë‹ˆ ì¶”ê°€ ê¸°ëŠ¥ ì‘ë™

---

## 8. Phase 5: ì£¼ë¬¸ ì‹œìŠ¤í…œ ë°°í¬

**ì˜ˆìƒ ì†Œìš”: 2ì‹œê°„**

### 8.1 ì£¼ë¬¸ ì²˜ë¦¬ íŒŒì¼

```bash
/mlangorder_printauto/
â”œâ”€â”€ ProcessOrder_unified.php      # ì£¼ë¬¸ ì²˜ë¦¬ (í•µì‹¬)
â”œâ”€â”€ OrderFormOrderTree.php        # ì£¼ë¬¸ì„œ í¼
â”œâ”€â”€ OrderComplete_universal.php   # ì£¼ë¬¸ ì™„ë£Œ
â”œâ”€â”€ order_confirm.php             # ì£¼ë¬¸ í™•ì¸
â””â”€â”€ includes/
    â””â”€â”€ order_helpers.php         # ì£¼ë¬¸ í—¬í¼ í•¨ìˆ˜
```

### 8.2 ì£¼ë¬¸ ì²˜ë¦¬ íë¦„

```
ì¥ë°”êµ¬ë‹ˆ (cart.php)
    â”‚
    â–¼ [ì£¼ë¬¸í•˜ê¸° ë²„íŠ¼]
ì£¼ë¬¸ì„œ ì‘ì„± (OrderFormOrderTree.php)
    â”‚
    â–¼ [ê²°ì œ/ì£¼ë¬¸ ë²„íŠ¼]
ì£¼ë¬¸ ì²˜ë¦¬ (ProcessOrder_unified.php)
    â”‚ - shop_temp â†’ mlangorder_printauto ì´ë™
    â”‚ - ì£¼ë¬¸ë²ˆí˜¸ ìƒì„±
    â”‚ - íŒŒì¼ ê²½ë¡œ ì—…ë°ì´íŠ¸
    â–¼
ì£¼ë¬¸ ì™„ë£Œ (OrderComplete_universal.php)
    â”‚
    â–¼ [ì´ë©”ì¼ ë°œì†¡, ì•Œë¦¼í†¡]
```

### 8.3 ì£¼ë¬¸ë²ˆí˜¸ ìƒì„± ê·œì¹™

```php
// í˜•ì‹: YYYYMMDD + 4ìë¦¬ ìˆœë²ˆ
// ì˜ˆ: 2026011800001

function generateOrderNumber($db) {
    $today = date('Ymd');
    $query = "SELECT MAX(order_idx) as max_idx FROM mlangorder_printauto
              WHERE order_idx LIKE '{$today}%'";
    $result = mysqli_query($db, $query);
    $row = mysqli_fetch_assoc($result);

    if ($row['max_idx']) {
        $last_num = intval(substr($row['max_idx'], -5));
        $new_num = $last_num + 1;
    } else {
        $new_num = 1;
    }

    return $today . str_pad($new_num, 5, '0', STR_PAD_LEFT);
}
```

### 8.4 ê²€ì¦

```bash
# ì£¼ë¬¸ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸ (ì¥ë°”êµ¬ë‹ˆì— ìƒí’ˆ ì¶”ê°€ í›„)
1. ì¥ë°”êµ¬ë‹ˆ â†’ ì£¼ë¬¸í•˜ê¸°
2. ì£¼ë¬¸ì„œ ì‘ì„± â†’ ì£¼ë¬¸ ì™„ë£Œ
3. mlangorder_printauto í…Œì´ë¸” í™•ì¸

mysql -u dsp1830 -p dsp1830 -e \
  "SELECT order_idx, memname, product_type, order_status
   FROM mlangorder_printauto ORDER BY order_idx DESC LIMIT 5;"
```

âœ… **Phase 5 ì™„ë£Œ ê¸°ì¤€**:
- ì£¼ë¬¸ í”„ë¡œì„¸ìŠ¤ ì „ì²´ íë¦„ ì‘ë™
- DBì— ì£¼ë¬¸ ë°ì´í„° ì €ì¥ í™•ì¸
- ì£¼ë¬¸ ì™„ë£Œ í˜ì´ì§€ í‘œì‹œ

---

## 9. Phase 6: ê´€ë¦¬ì ì‹œìŠ¤í…œ ë°°í¬

**ì˜ˆìƒ ì†Œìš”: 1.5ì‹œê°„**

### 9.1 ê´€ë¦¬ì íŒŒì¼ êµ¬ì¡°

```bash
/mlang_admin/                    # ê´€ë¦¬ì ë©”ì¸
â”œâ”€â”€ index.php                    # ëŒ€ì‹œë³´ë“œ
â”œâ”€â”€ login.php                    # ë¡œê·¸ì¸ (ë‹¨ìˆœ)
â”œâ”€â”€ order_list.php               # ì£¼ë¬¸ ëª©ë¡
â”œâ”€â”€ order_view.php               # ì£¼ë¬¸ ìƒì„¸
â”œâ”€â”€ order_edit.php               # ì£¼ë¬¸ ìˆ˜ì •
â”œâ”€â”€ price_manage.php             # ê°€ê²© ê´€ë¦¬
â”œâ”€â”€ product_list.php             # ì œí’ˆ ê´€ë¦¬
â”œâ”€â”€ category_manage.php          # ì¹´í…Œê³ ë¦¬ ê´€ë¦¬
â””â”€â”€ includes/
    â””â”€â”€ admin_header.php         # ê´€ë¦¬ì í—¤ë”

/admin/                          # ì¸ì¦ ì‹œìŠ¤í…œ
â”œâ”€â”€ mlangprintauto/
â”‚   â””â”€â”€ login.php                # ë³´ì•ˆ ë¡œê·¸ì¸
â””â”€â”€ includes/
    â””â”€â”€ admin_auth.php           # ì¸ì¦ ë¯¸ë“¤ì›¨ì–´
```

### 9.2 ê´€ë¦¬ì ì¸ì¦ ì„¤ì •

```php
// /admin/includes/admin_auth.php
// ê¸°ë³¸ ìê²©ì¦ëª…
return [
    'username' => 'admin',
    'password_hash' => password_hash('admin123', PASSWORD_DEFAULT),
    'needs_change' => false
];
```

### 9.3 ì¸ì¦ íë¦„

```
ë¡œê·¸ì¸ í˜ì´ì§€ (/admin/mlangprintauto/login.php)
    â”‚
    â–¼ [ID/PW ì…ë ¥]
ì¸ì¦ ì²˜ë¦¬ (admin_auth.php::adminLogin)
    â”‚ - ë¸Œë£¨íŠ¸í¬ìŠ¤ ì²´í¬
    â”‚ - ë¹„ë°€ë²ˆí˜¸ ê²€ì¦
    â”‚ - ì„¸ì…˜ ìƒì„±
    â–¼
ê´€ë¦¬ì í˜ì´ì§€ (/mlang_admin/)
    â”‚ - requireAdminAuth() ì²´í¬
    â”‚ - 8ì‹œê°„ ì„¸ì…˜ ìœ ì§€
    â–¼
ë¡œê·¸ì•„ì›ƒ (adminLogout)
```

### 9.4 ê²€ì¦

```bash
# ê´€ë¦¬ì ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸
1. http://localhost/admin/mlangprintauto/login.php ì ‘ì†
2. admin / admin123 ì…ë ¥
3. ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ ë¦¬ë‹¤ì´ë ‰íŠ¸ í™•ì¸

# ì£¼ë¬¸ ëª©ë¡ í™•ì¸
http://localhost/mlang_admin/order_list.php
```

âœ… **Phase 6 ì™„ë£Œ ê¸°ì¤€**:
- ê´€ë¦¬ì ë¡œê·¸ì¸ ì„±ê³µ
- ì£¼ë¬¸ ëª©ë¡ í˜ì´ì§€ ì •ìƒ í‘œì‹œ
- ì£¼ë¬¸ ìƒì„¸ ì¡°íšŒ ê°€ëŠ¥

---

## 10. Phase 7: í…ŒìŠ¤íŠ¸ ë° ê²€ì¦

**ì˜ˆìƒ ì†Œìš”: 3ì‹œê°„**

### 10.1 Node.js í…ŒìŠ¤íŠ¸ í™˜ê²½ ì„¤ì •

```bash
cd /var/www/html

# Node.js ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# Playwright ë¸Œë¼ìš°ì € ì„¤ì¹˜
npx playwright install chromium
```

### 10.2 í…ŒìŠ¤íŠ¸ ì‹¤í–‰

```bash
# ì „ì²´ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
npm test

# ê·¸ë£¹ë³„ í…ŒìŠ¤íŠ¸
npx playwright test --grep "@group-a"  # í˜ì´ì§€ ë¡œë”©
npx playwright test --grep "@group-b"  # ê°€ê²© ê³„ì‚°
npx playwright test --grep "@group-c"  # íŒŒì¼ ì—…ë¡œë“œ
npx playwright test --grep "@group-d"  # E2E ì‹œë‚˜ë¦¬ì˜¤
```

### 10.3 ìˆ˜ë™ í…ŒìŠ¤íŠ¸ ì²´í¬ë¦¬ìŠ¤íŠ¸

#### ì œí’ˆ í˜ì´ì§€ í…ŒìŠ¤íŠ¸

| í…ŒìŠ¤íŠ¸ í•­ëª© | ì „ë‹¨ì§€ | ìŠ¤í‹°ì»¤ | ëª…í•¨ | ë´‰íˆ¬ | í¬ìŠ¤í„° | ì¹´ë‹¤ë¡ | NCR | ìƒí’ˆê¶Œ | ìì„ |
|------------|--------|--------|------|------|--------|--------|-----|--------|------|
| í˜ì´ì§€ ë¡œë”© | â˜ | â˜ | â˜ | â˜ | â˜ | â˜ | â˜ | â˜ | â˜ |
| ì˜µì…˜ ì„ íƒ | â˜ | â˜ | â˜ | â˜ | â˜ | â˜ | â˜ | â˜ | â˜ |
| ê°€ê²© ê³„ì‚° | â˜ | â˜ | â˜ | â˜ | â˜ | â˜ | â˜ | â˜ | â˜ |
| íŒŒì¼ ì—…ë¡œë“œ | â˜ | â˜ | â˜ | â˜ | â˜ | â˜ | â˜ | â˜ | â˜ |
| ì¥ë°”êµ¬ë‹ˆ ì¶”ê°€ | â˜ | â˜ | â˜ | â˜ | â˜ | â˜ | â˜ | â˜ | â˜ |

#### ì£¼ë¬¸ í”„ë¡œì„¸ìŠ¤ í…ŒìŠ¤íŠ¸

| ë‹¨ê³„ | í…ŒìŠ¤íŠ¸ í•­ëª© | í™•ì¸ |
|------|-------------|------|
| 1 | ì¥ë°”êµ¬ë‹ˆ í‘œì‹œ | â˜ |
| 2 | ìˆ˜ëŸ‰/ì‚¬ì–‘ ì •í™•ì„± | â˜ |
| 3 | ì£¼ë¬¸ì„œ í¼ ì‘ì„± | â˜ |
| 4 | ì£¼ë¬¸ ì²˜ë¦¬ ì™„ë£Œ | â˜ |
| 5 | DB ì €ì¥ í™•ì¸ | â˜ |
| 6 | ì£¼ë¬¸ ì™„ë£Œ í˜ì´ì§€ | â˜ |

#### ê´€ë¦¬ì ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸

| ê¸°ëŠ¥ | í…ŒìŠ¤íŠ¸ í•­ëª© | í™•ì¸ |
|------|-------------|------|
| ë¡œê·¸ì¸ | admin/admin123 | â˜ |
| ì£¼ë¬¸ ëª©ë¡ | ëª©ë¡ í‘œì‹œ | â˜ |
| ì£¼ë¬¸ ìƒì„¸ | ìƒì„¸ ì¡°íšŒ | â˜ |
| ìƒíƒœ ë³€ê²½ | ì£¼ë¬¸ ìƒíƒœ ì—…ë°ì´íŠ¸ | â˜ |
| ë¡œê·¸ì•„ì›ƒ | ì„¸ì…˜ ì¢…ë£Œ | â˜ |

### 10.4 ì„±ëŠ¥ í…ŒìŠ¤íŠ¸

```bash
# Apache Bench í…ŒìŠ¤íŠ¸
ab -n 100 -c 10 http://localhost/mlangprintauto/namecard/

# ì˜ˆìƒ ê²°ê³¼
# Requests per second: 50+ req/sec
# Time per request: <200ms
```

âœ… **Phase 7 ì™„ë£Œ ê¸°ì¤€**:
- Playwright í…ŒìŠ¤íŠ¸ ì „ì²´ í†µê³¼
- 9ê°œ ì œí’ˆ ìˆ˜ë™ í…ŒìŠ¤íŠ¸ ì™„ë£Œ
- ì£¼ë¬¸ í”„ë¡œì„¸ìŠ¤ E2E ê²€ì¦ ì™„ë£Œ

---

## 11. Phase 8: í”„ë¡œë•ì…˜ ë°°í¬

**ì˜ˆìƒ ì†Œìš”: 2ì‹œê°„**

### 11.1 í”„ë¡œë•ì…˜ ì²´í¬ë¦¬ìŠ¤íŠ¸

#### ë³´ì•ˆ ì„¤ì •

```bash
# 1. ì—ëŸ¬ í‘œì‹œ ë¹„í™œì„±í™”
# php.ini
display_errors = Off
log_errors = On
error_log = /var/log/php/error.log

# 2. ë””ë ‰í† ë¦¬ ë¦¬ìŠ¤íŒ… ë¹„í™œì„±í™”
# .htaccess
Options -Indexes

# 3. ë¯¼ê°í•œ íŒŒì¼ ì ‘ê·¼ ì°¨ë‹¨
<FilesMatch "\.(env|json|md|sql)$">
    Require all denied
</FilesMatch>
```

#### SSL ì¸ì¦ì„œ

```bash
# Let's Encrypt ì„¤ì¹˜
sudo apt install certbot python3-certbot-apache
sudo certbot --apache -d yourdomain.com
```

#### ë°±ì—… ì„¤ì •

```bash
# ì¼ì¼ DB ë°±ì—… ìŠ¤í¬ë¦½íŠ¸
#!/bin/bash
DATE=$(date +%Y%m%d)
mysqldump -u dsp1830 -pds701018 dsp1830 > /backup/db_$DATE.sql
find /backup -name "db_*.sql" -mtime +7 -delete
```

### 11.2 FTP ë°°í¬ (ê¸°ì¡´ ì„œë²„)

```bash
# íŒŒì¼ ì—…ë¡œë“œ
curl -T "file.php" -u "dsp1830:ds701018" \
  "ftp://dsp1830.shop/public_html/file.php"

# ë””ë ‰í† ë¦¬ ì—…ë¡œë“œ (ncftp ì‚¬ìš©)
ncftpput -R -u dsp1830 -p ds701018 dsp1830.shop /public_html /var/www/html/*
```

### 11.3 ë°°í¬ í›„ ê²€ì¦

```bash
# 1. ì‚¬ì´íŠ¸ ì ‘ì† í™•ì¸
curl -I https://yourdomain.com

# 2. DB ì—°ê²° í™•ì¸
curl https://yourdomain.com/api/health_check.php

# 3. ì œí’ˆ í˜ì´ì§€ í™•ì¸
curl -s https://yourdomain.com/mlangprintauto/namecard/ | head -50
```

âœ… **Phase 8 ì™„ë£Œ ê¸°ì¤€**:
- HTTPS ì ‘ì† ê°€ëŠ¥
- ëª¨ë“  ê¸°ëŠ¥ ì •ìƒ ì‘ë™
- ë°±ì—… ìŠ¤ì¼€ì¤„ ì„¤ì • ì™„ë£Œ

---

## 12. íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### 12.1 ì¼ë°˜ì ì¸ ë¬¸ì œ

#### DB ì—°ê²° ì‹¤íŒ¨

```
Error: Database connection failed
```

**í•´ê²°**:
```bash
# MySQL ì„œë¹„ìŠ¤ í™•ì¸
sudo systemctl status mysql

# ì‚¬ìš©ì ê¶Œí•œ í™•ì¸
mysql -u root -p -e "SELECT user, host FROM mysql.user WHERE user='dsp1830';"

# ê¶Œí•œ ì¬ë¶€ì—¬
GRANT ALL PRIVILEGES ON dsp1830.* TO 'dsp1830'@'localhost';
FLUSH PRIVILEGES;
```

#### íŒŒì¼ ê¶Œí•œ ì˜¤ë¥˜

```
Error: Permission denied on upload
```

**í•´ê²°**:
```bash
sudo chown -R www-data:www-data /var/www/html/upload
sudo chmod -R 775 /var/www/html/upload
```

#### í•œê¸€ ê¹¨ì§

```
ë¬¸ìê°€ ??? ë˜ëŠ” ê¹¨ì§„ ë¬¸ìë¡œ í‘œì‹œ
```

**í•´ê²°**:
```php
// db.phpì— ì¶”ê°€
mysqli_set_charset($db, 'utf8mb4');

// HTMLì— ì¶”ê°€
<meta charset="UTF-8">
```

### 12.2 ê°€ê²© ê³„ì‚° ì˜¤ë¥˜

#### ì†Œìˆ˜ì  ë°˜ì˜¬ë¦¼

```
0.5ì—°ì´ 1ì—°ìœ¼ë¡œ í‘œì‹œë¨
```

**í•´ê²°**:
```php
// âŒ ì˜ëª»ëœ ë°©ë²•
number_format($value)  // 0.5 â†’ 1

// âœ… ì˜¬ë°”ë¥¸ ë°©ë²•
number_format($value, 1)  // 0.5 â†’ 0.5
```

#### bind_param ê°œìˆ˜ ë¶ˆì¼ì¹˜

```
Warning: mysqli_stmt_bind_param(): Number of elements in type definition string doesn't match number of bind variables
```

**í•´ê²°**: 3ë²ˆ ê²€ì¦ ê·œì¹™ ì ìš©
```php
$placeholder_count = substr_count($query, '?');
$type_count = strlen($type_string);
$var_count = count($params);
// 3ê°œ ê°’ì´ ëª¨ë‘ ê°™ì•„ì•¼ í•¨
```

### 12.3 ì„¸ì…˜ ë¬¸ì œ

#### ë¡œê·¸ì¸ ìœ ì§€ ì•ˆë¨

```
ë¡œê·¸ì¸ í›„ í˜ì´ì§€ ì´ë™ ì‹œ ë¡œê·¸ì•„ì›ƒë¨
```

**í•´ê²°**:
```php
// ëª¨ë“  í˜ì´ì§€ ìƒë‹¨ì— session_start() í™•ì¸
session_start();

// ì„¸ì…˜ ì €ì¥ ê²½ë¡œ í™•ì¸
session_save_path('/var/lib/php/sessions');

// ì„¸ì…˜ ë””ë ‰í† ë¦¬ ê¶Œí•œ
sudo chmod 777 /var/lib/php/sessions
```

---

## 13. ë¶€ë¡

### 13.1 ìœ ìš©í•œ SQL ì¿¼ë¦¬

```sql
-- ìµœê·¼ ì£¼ë¬¸ ì¡°íšŒ
SELECT order_idx, memname, product_type, order_status, reg_date
FROM mlangorder_printauto
ORDER BY order_idx DESC
LIMIT 20;

-- ì œí’ˆë³„ ì£¼ë¬¸ í†µê³„
SELECT product_type, COUNT(*) as count, SUM(total_price) as total
FROM mlangorder_printauto
WHERE YEAR(reg_date) = 2026
GROUP BY product_type;

-- ì¥ë°”êµ¬ë‹ˆ ë°ì´í„° í™•ì¸
SELECT * FROM shop_temp
WHERE session_id = 'current_session_id';
```

### 13.2 íŒŒì¼ ë™ê¸°í™” ëª…ë ¹

```bash
# rsyncë¡œ ì„œë²„ ê°„ ë™ê¸°í™”
rsync -avz --exclude='upload/*' --exclude='vendor/*' \
  /var/www/html/ user@remote:/var/www/html/

# íŠ¹ì • ë””ë ‰í† ë¦¬ë§Œ ë™ê¸°í™”
rsync -avz /var/www/html/includes/ user@remote:/var/www/html/includes/
```

### 13.3 ë¡œê·¸ í™•ì¸

```bash
# Apache ì—ëŸ¬ ë¡œê·¸
tail -f /var/log/apache2/error.log

# PHP ì—ëŸ¬ ë¡œê·¸
tail -f /var/log/php/error.log

# MySQL ì¿¼ë¦¬ ë¡œê·¸
tail -f /var/log/mysql/query.log
```

### 13.4 ê´€ë ¨ ë¬¸ì„œ ë§í¬

| ë¬¸ì„œ | ê²½ë¡œ |
|------|------|
| ë§ˆìŠ¤í„° ëª…ì„¸ì„œ | `/CLAUDE_DOCS/Duson_System_Master_Spec_v1.0.md` |
| DB ìŠ¤í‚¤ë§ˆ | `/CLAUDE_DOCS/DB_SCHEMA.md` |
| API ëª…ì„¸ì„œ | `/CLAUDE_DOCS/API_SPEC.md` |
| ë°ì´í„° íë¦„ | `/CLAUDE_DOCS/DATA_LINEAGE.md` |
| ì»´í¬ë„ŒíŠ¸ ì°¸ì¡° | `/CLAUDE_DOCS/COMPONENT_REFERENCE.md` |
| ì„¤ì¹˜ ê°€ì´ë“œ | `/install/INSTALLATION_GUIDE.md` |

---

## ë³€ê²½ ì´ë ¥

| ë²„ì „ | ë‚ ì§œ | ë³€ê²½ ë‚´ìš© |
|------|------|-----------|
| 1.0 | 2026-01-18 | ì´ˆê¸° ì‘ì„± |

---

*ì´ ë¬¸ì„œëŠ” ë‘ì†ê¸°íš ì¸ì‡„ ì‹œìŠ¤í…œì˜ ì™„ì „í•œ ì¬êµ¬ì¶•ì„ ìœ„í•œ ê°€ì´ë“œì…ë‹ˆë‹¤.*
*ë¬¸ì˜: ì‹œìŠ¤í…œ ê´€ë¦¬ì*
