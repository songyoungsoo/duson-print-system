# 관리자 페이지 주문내용 표시 오류 수정 요구사항

## 개요

관리자 페이지(`admin/MlangPrintAuto/admin.php?mode=OrderView&no=83223`)에서 주문 상세 정보가 올바르게 표시되지 않는 문제를 해결합니다. 파일 다운로드는 정상 작동하지만, 주문내용(Type_1 필드 등)이 비어있거나 올바르게 파싱되지 않는 상황입니다.

## 요구사항

### 요구사항 1: 주문 데이터 저장 검증

**사용자 스토리:** 관리자로서, 고객이 주문한 상품의 상세 정보가 데이터베이스에 올바르게 저장되는지 확인하고 싶습니다.

#### 승인 기준
1. WHEN 고객이 주문을 완료하면 THEN 시스템은 MlangOrder_PrintAuto 테이블의 Type_1 필드에 주문 상세 정보를 JSON 형태로 저장해야 합니다
2. WHEN 주문 데이터가 저장될 때 THEN 시스템은 품목별 필수 정보(MY_type, Section, quantity, price 등)를 모두 포함해야 합니다
3. WHEN 스티커 주문의 경우 THEN 시스템은 jong, garo, sero, mesu, uhyung, domusong 정보를 저장해야 합니다
4. WHEN 다른 품목 주문의 경우 THEN 시스템은 해당 품목의 특화 필드들을 저장해야 합니다
5. IF 주문 저장 중 오류가 발생하면 THEN 시스템은 오류 로그를 기록하고 사용자에게 알려야 합니다

### 요구사항 2: 관리자 페이지 주문내용 표시

**사용자 스토리:** 관리자로서, 주문 상세 페이지에서 고객이 주문한 상품의 모든 정보를 명확하게 볼 수 있어야 합니다.

#### 승인 기준
1. WHEN 관리자가 주문 상세 페이지에 접근하면 THEN 시스템은 Type_1 필드의 JSON 데이터를 파싱하여 표시해야 합니다
2. WHEN 주문내용을 표시할 때 THEN 시스템은 품목별로 적절한 형태로 정보를 포맷해야 합니다
3. WHEN 스티커 주문을 표시할 때 THEN 시스템은 "재질: 아트지유광, 크기: 100x100mm, 수량: 1000매" 형태로 표시해야 합니다
4. WHEN 다른 품목을 표시할 때 THEN 시스템은 카테고리 번호를 한글명으로 변환하여 표시해야 합니다
5. IF Type_1 필드가 비어있거나 잘못된 형식이면 THEN 시스템은 "주문 정보 없음" 메시지를 표시해야 합니다

### 요구사항 3: 주문 프로세스 디버깅 도구

**사용자 스토리:** 개발자로서, 주문 과정에서 데이터가 어떻게 처리되고 저장되는지 추적할 수 있는 도구가 필요합니다.

#### 승인 기준
1. WHEN 디버그 모드가 활성화되면 THEN 시스템은 주문 과정의 각 단계를 로그로 기록해야 합니다
2. WHEN 주문 데이터를 저장할 때 THEN 시스템은 저장되는 데이터의 구조와 내용을 로그에 기록해야 합니다
3. WHEN 관리자 페이지에서 주문을 조회할 때 THEN 시스템은 데이터 파싱 과정을 로그에 기록해야 합니다
4. IF 데이터 파싱 중 오류가 발생하면 THEN 시스템은 상세한 오류 정보를 로그에 기록해야 합니다
5. WHEN 디버그 도구를 사용할 때 THEN 시스템은 특정 주문 번호의 전체 데이터 흐름을 추적할 수 있어야 합니다

### 요구사항 4: 품목별 주문내용 표시 표준화

**사용자 스토리:** 관리자로서, 모든 품목의 주문내용이 일관된 형태로 표시되어 쉽게 이해할 수 있어야 합니다.

#### 승인 기준
1. WHEN 주문내용을 표시할 때 THEN 시스템은 품목별로 표준화된 템플릿을 사용해야 합니다
2. WHEN 카테고리 번호를 표시할 때 THEN 시스템은 mlangprintauto_transactioncate 테이블에서 한글명을 조회하여 표시해야 합니다
3. WHEN 가격 정보를 표시할 때 THEN 시스템은 천단위 콤마와 "원" 단위를 포함해야 합니다
4. WHEN 수량 정보를 표시할 때 THEN 시스템은 적절한 단위(매, 부, 권 등)를 포함해야 합니다
5. IF 특정 필드가 비어있으면 THEN 시스템은 "-" 또는 "정보 없음"으로 표시해야 합니다

### 요구사항 5: 오류 복구 및 데이터 무결성

**사용자 스토리:** 시스템 관리자로서, 주문 데이터에 문제가 있을 때 이를 복구하거나 수정할 수 있는 방법이 필요합니다.

#### 승인 기준
1. WHEN 주문 데이터에 오류가 발견되면 THEN 시스템은 관리자에게 알림을 제공해야 합니다
2. WHEN 관리자가 주문 데이터를 수정하면 THEN 시스템은 변경 이력을 기록해야 합니다
3. WHEN 데이터 복구가 필요하면 THEN 시스템은 백업 데이터나 로그를 통해 복구할 수 있어야 합니다
4. IF 주문 데이터가 손상되었으면 THEN 시스템은 가능한 범위에서 데이터를 복원해야 합니다
5. WHEN 데이터 무결성 검사를 실행하면 THEN 시스템은 모든 주문의 데이터 상태를 점검하고 보고서를 생성해야 합니다